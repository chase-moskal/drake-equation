!function(){"use strict";"function"!=typeof Array.prototype.find&&(Array.prototype.find=function(e,t){if(null===this)throw new TypeError("Cannot read property 'find' of null");if("function"!=typeof e)throw new TypeError(typeof e+" is not a function");for(var n=this.length,r=0;r<n;r++)if(e.call(t,this[r],r,this))return this[r]})}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ES6Promise=t()}(this,function(){"use strict";function e(e){return"function"==typeof e}function t(){var e=setTimeout;return function(){return e(n,1)}}function n(){for(var e=0;e<m;e+=2){(0,S[e])(S[e+1]),S[e]=void 0,S[e+1]=void 0}m=0}function r(e,t){var n=this,r=new this.constructor(i);void 0===r[x]&&y(r);var o=n._state;if(o){var a=arguments[o-1];_(function(){return h(o,r,a,n._result)})}else f(n,r,e,t);return r}function o(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(i);return u(t,e),t}function i(){}function a(e){try{return e.then}catch(e){return E.error=e,E}}function s(t,n,i){n.constructor===t.constructor&&i===r&&n.constructor.resolve===o?function(e,t){t._state===T?d(e,t._result):t._state===j?l(e,t._result):f(t,void 0,function(t){return u(e,t)},function(t){return l(e,t)})}(t,n):i===E?(l(t,E.error),E.error=null):void 0===i?d(t,n):e(i)?function(e,t,n){_(function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?u(e,n):d(e,n))},function(t){r||(r=!0,l(e,t))},e._label);!r&&o&&(r=!0,l(e,o))},e)}(t,n,i):d(t,n)}function u(e,t){e===t?l(e,new TypeError("You cannot resolve a promise with itself")):function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}(t)?s(e,t,a(t)):d(e,t)}function c(e){e._onerror&&e._onerror(e._result),p(e)}function d(e,t){e._state===I&&(e._result=t,e._state=T,0!==e._subscribers.length&&_(p,e))}function l(e,t){e._state===I&&(e._state=j,e._result=t,_(c,e))}function f(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+T]=n,o[i+j]=r,0===i&&e._state&&_(p,e)}function p(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?h(n,r,o,i):o(i);e._subscribers.length=0}}function h(t,n,r,o){var i=e(r),a=void 0,s=void 0,c=void 0,f=void 0;if(i){if((a=function(e,t){try{return e(t)}catch(e){return E.error=e,E}}(r,o))===E?(f=!0,s=a.error,a.error=null):c=!0,n===a)return void l(n,new TypeError("A promises callback cannot return that same promise."))}else a=o,c=!0;n._state!==I||(i&&c?u(n,a):f?l(n,s):t===T?d(n,a):t===j&&l(n,a))}function y(e){e[x]=F++,e._state=void 0,e._result=void 0,e._subscribers=[]}var v=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},m=0,g=void 0,b=void 0,_=function(e,t){S[m]=e,S[m+1]=t,2===(m+=2)&&(b?b(n):A())},w="undefined"!=typeof window?window:void 0,O=w||{},P=O.MutationObserver||O.WebKitMutationObserver,C="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),k="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,S=new Array(1e3),A=void 0;A=C?function(){return process.nextTick(n)}:P?function(){var e=0,t=new P(n),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}():k?function(){var e=new MessageChannel;return e.port1.onmessage=n,function(){return e.port2.postMessage(0)}}():void 0===w&&"function"==typeof require?function(){try{var e=Function("return this")().require("vertx");return void 0!==(g=e.runOnLoop||e.runOnContext)?function(){g(n)}:t()}catch(e){return t()}}():t();var x=Math.random().toString(36).substring(2),I=void 0,T=1,j=2,E={error:null},F=0,N=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(i),this.promise[x]||y(this.promise),v(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?d(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&d(this.promise,this._result))):l(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===I&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,u=n.resolve;if(u===o){var c=a(e);if(c===r&&e._state!==I)this._settledAt(e._state,t,e._result);else if("function"!=typeof c)this._remaining--,this._result[t]=e;else if(n===M){var d=new n(i);s(d,e,c),this._willSettleAt(d,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(u(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===I&&(this._remaining--,e===j?l(r,n):this._result[t]=n),0===this._remaining&&d(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;f(e,void 0,function(e){return n._settledAt(T,t,e)},function(e){return n._settledAt(j,t,e)})},e}(),M=function(){function e(t){this[x]=F++,this._result=this._state=void 0,this._subscribers=[],i!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){u(e,t)},function(t){l(e,t)})}catch(t){l(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},e}();return M.prototype.then=r,M.all=function(e){return new N(this,e).promise},M.race=function(e){var t=this;return new t(v(e)?function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},M.resolve=o,M.reject=function(e){var t=new this(i);return l(t,e),t},M._setScheduler=function(e){b=e},M._setAsap=function(e){_=e},M._asap=_,M.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=M},M.Promise=M,M.polyfill(),M}),function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};d.prototype.append=function(e,t){e=s(e),t=u(t);var n=this.map[e];this.map[e]=n?n+","+t:t},d.prototype.delete=function(e){delete this.map[s(e)]},d.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},d.prototype.set=function(e,t){this.map[s(e)]=u(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},d.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},d.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},t.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];g.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=d,e.Request=v,e.Response=g,e.fetch=function(e,n){return new Promise(function(r,o){var i=new v(e,n),a=new XMLHttpRequest;a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;r(new g(o,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function d(e){this.map={},e instanceof d?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,n,r=l(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=f(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(e,t){var n,r,o=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),i.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function g(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this),function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){return o(t[a][1][e]||e)},d,d.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}}()({1:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function i(e){var t=e.link;return new Promise(function(e,n){var r=new XMLHttpRequest;r.onload=function(){return e(r)},r.onerror=function(e){var t=new Error("xhr request error: "+r.status+" "+r.statusText);n(t)},r.open("GET",t),r.send()})}Object.defineProperty(n,"__esModule",{value:!0}),n.request=i,n.requestXml=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,i(e)];case 1:return[2,t.sent().responseXML]}})})},n.requestJson=function(e){return r(this,void 0,void 0,function(){var t,n;return o(this,function(r){switch(r.label){case 0:return n=(t=JSON).parse,[4,i(e)];case 1:return[2,n.apply(t,[r.sent().responseText])]}})})}},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./format-currency"),o=e("./convert-currency");n.convertAndFormatCurrency=function(e){var t=e.value,n=e.exchangeRates,i=e.inputCurrency,a=e.outputCurrency,s=e.precision,u=void 0===s?2:s,c=e.locale,d=void 0===c?void 0:c;return r.formatCurrency({locale:d,precision:u,currency:a,value:o.convertCurrency({value:t,inputCurrency:i,outputCurrency:a,exchangeRates:n})})}},{"./convert-currency":3,"./format-currency":6}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.convertCurrency=function(e){for(var t=e.value,n=e.inputCurrency,r=e.outputCurrency,o=e.exchangeRates,i=o[n],a=o[r],s=0,u=[[n,i],[r,a]];s<u.length;s++){var c=u[s],d=c[0],l=c[1];if(void 0===l||null===l||isNaN(l))throw new Error('invalid rate "'+d+'"')}return t*(a/i)}},{}],4:[function(e,t,n){"use strict";function r(e){var t=e.value,n=e.precision,r=e.locale;return function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}(t,n).toLocaleString(r,{maximumFractionDigits:n,minimumFractionDigits:n})}Object.defineProperty(n,"__esModule",{value:!0}),n.currencyFormatters={CAD:function(e){return"$"+r(e)+" CAD"},USD:function(e){return"$"+r(e)+" USD"},EUR:function(e){return"€"+r(e)+" EUR"},GBP:function(e){return"£"+r(e)+" GBP"},XBT:function(e){return"Ƀ"+r(e)+" XBT"}}},{}],5:[function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("commotion");n.downloadExchangeRates=function(e){var t=(void 0===e?{}:e).ratesLink,n=void 0===t?"https://api.exchangeratesapi.io/latest":t;return o(this,void 0,void 0,function(){var e,t,o,s,u;return i(this,function(i){switch(i.label){case 0:return[4,a.requestJson({link:n})];case 1:return t=i.sent(),o=t.base,s=t.date,u=t.rates,[2,{lastUpdatedDate:s,exchangeRates:r({},u,(e={},e[o]=1,e))}]}})})}},{commotion:1}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./currency-formatters");n.formatCurrency=function(e){var t=e.value,n=e.currency,o=e.precision,i=void 0===o?2:o,a=e.locale,s=void 0===a?void 0:a,u=e.formatters,c=(void 0===u?r.currencyFormatters:u)[n];if(!c)throw new Error('unknown formatter "'+n+'"');return c({value:t,precision:i,locale:s})}},{"./currency-formatters":4}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.exchangeRates={CAD:3,USD:2,GBP:1}},{}],8:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../currency-tools/download-exchange-rates");n.ascertainEcommerceDetails=function(e){var t=e.ratesLink,n=e.storeBaseCurrency,a=e.userDisplayCurrency;return r(this,void 0,void 0,function(){var e;return o(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.downloadExchangeRates({ratesLink:t})];case 1:return[2,{exchangeRates:r.sent().exchangeRates,storeBaseCurrency:n,userDisplayCurrency:a}];case 2:return r.sent(),console.warn('error loading currency exchange rates, now only using "'+n+'"'),(e={})[n]=1,[2,{exchangeRates:e,storeBaseCurrency:n,userDisplayCurrency:n}];case 3:return[2]}})})}},{"../currency-tools/download-exchange-rates":5}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("locale2"),o=e("./locales-to-currencies");n.assumeUserCurrency=function(e){var t=e.fallback,n=e.locale,i=void 0===n?r:n,a=e.localesToCurrencies;return(void 0===a?o.localesToCurrencies:a)[i.toLowerCase()]||t}},{"./locales-to-currencies":10,locale2:18}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.localesToCurrencies=Object.freeze({"en-ca":"CAD","fr-ca":"CAD","en-us":"USD","en-gb":"GBP"})},{}],11:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./currency-tools/convert-and-format-currency")),r(e("./currency-tools/convert-currency")),r(e("./currency-tools/currency-formatters")),r(e("./currency-tools/download-exchange-rates")),r(e("./currency-tools/format-currency")),r(e("./currency-tools/testing-tools")),r(e("./ecommerce/ascertain-ecommerce-details")),r(e("./ecommerce/assume-user-currency")),r(e("./ecommerce/locales-to-currencies"))},{"./currency-tools/convert-and-format-currency":2,"./currency-tools/convert-currency":3,"./currency-tools/currency-formatters":4,"./currency-tools/download-exchange-rates":5,"./currency-tools/format-currency":6,"./currency-tools/testing-tools":7,"./ecommerce/ascertain-ecommerce-details":8,"./ecommerce/assume-user-currency":9,"./ecommerce/locales-to-currencies":10}],12:[function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(r){if("object"==typeof t&&"object"==typeof t.exports){var o=r(e,n);void 0!==o&&(t.exports=o)}else"function"==typeof define&&define.amd&&define(["require","exports","./error","./listener-organizer"],r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("./error"),a=e("./listener-organizer"),s=function(){function e(e){var t=e.link,n=e.hostOrigin,s=e.shims,c=void 0===s?{}:s,d=this;this.requests=new Map,this.listenerOrganizer=new a.ListenerOrganizer,this.messageId=0,this.callableReady=!1,this.callable=new Promise(function(e,t){d.resolveCallable=e}),this.eventsReady=!1,this.events=new Promise(function(e,t){d.resolveEvents=e}),this.handleMessageEvent=function(e){var t=e.origin,n=e.data;return d.receiveMessage({message:n,origin:t})},this.prepPasser=function(){return function(e){return o(d,void 0,void 0,function(){return i(this,function(t){return this.passResponseToRequest(e),[2]})})}},this.messageHandlers=((l={})[1]=function(e){return o(d,void 0,void 0,function(){var e,t,n,r,o;return i(this,function(i){switch(i.label){case 0:return[4,this.request({signal:2})];case 1:return e=i.sent(),t=e.allowed,n=e.allowedEvents,r=this.makeCallable(t),this.callableReady||(this.resolveCallable(r),this.callableReady=!0),o=this.makeEvents(n),this.eventsReady||(this.resolveEvents(o),this.eventsReady=!0),[2]}})})},l[3]=this.prepPasser(),l[5]=this.prepPasser(),l[8]=this.prepPasser(),l[10]=this.prepPasser(),l[6]=function(e){return o(d,void 0,void 0,function(){var t,n,r,o;return i(this,function(i){return t=this.listenerOrganizer,n=e.listenerId,r=e.eventPayload,(o=t.listeners.get(n))&&o(r),[2]})})},l);var l,f=this.handleMessageEvent,p=r({},u,c);Object.assign(this,{hostOrigin:n,shims:p}),this.preparePostMessage(t),p.addEventListener("message",f,!1)}return e.prototype.destructor=function(){var e=this.iframe,t=this.shims,n=this.handleMessageEvent;e&&(t.removeChild(e),this.iframe=null),t.removeEventListener("message",n)},e.prototype.preparePostMessage=function(e){var t=this.shims;if(!t.postMessage){var n=t.createElement("iframe");n.style.display="none",n.src=e,Object.assign(this,{iframe:n}),t.appendChild(n),t.postMessage=n.contentWindow.postMessage.bind(n.contentWindow)}},e.prototype.receiveMessage=function(e){var t=e.message,r=e.origin;return o(this,void 0,void 0,function(){var e,o,a,s;return i(this,function(i){if(o=(e=this).hostOrigin,a=e.messageHandlers,r!==o)throw n.error('message rejected from origin "'+r+'"');if(!(s=a[t.signal]))throw n.error("unknown message signal "+t.signal);return s(t),[2]})})},e.prototype.request=function(e){return o(this,void 0,void 0,function(){var t,n=this;return i(this,function(r){switch(r.label){case 0:return[4,this.sendMessage(e)];case 1:return t=r.sent(),[2,new Promise(function(e,r){n.requests.set(t,{resolve:e,reject:r})})]}})})},e.prototype.sendMessage=function(e){return o(this,void 0,void 0,function(){var t,n,o,a,s;return i(this,function(i){switch(i.label){case 0:return(t=this).iframe,n=t.hostOrigin,o=t.shims,a=this.messageId++,s=r({},e,{id:a}),[4,o.postMessage(s,n)];case 1:return i.sent(),[2,a]}})})},e.prototype.callRequest=function(e){var t=e.topic,n=e.method,r=e.params;return o(this,void 0,void 0,function(){return i(this,function(e){return[2,this.request({signal:4,topic:t,method:n,params:r})]})})},e.prototype.passResponseToRequest=function(e){var t=this.requests,r=t.get(e.associate);if(!r)throw n.error('unknown response, id "'+e.id+'" responding to "'+e.associate+'"');var o=r.resolve,i=r.reject;t.delete(e.associate),0===e.signal?i(e.error):o(e)},e.prototype.makeCallable=function(e){for(var t=this,n={},r=function(r){for(var a={},s=function(e){a[e]=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return o(t,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.callRequest({topic:r,method:e,params:n})];case 1:return[2,t.sent().result]}})})}},u=0,c=e[r];u<c.length;u++){s(c[u])}n[r]=a},a=0,s=Object.keys(e);a<s.length;a++){r(s[a])}return n},e.prototype.makeEvents=function(e){for(var t=this,r=this.listenerOrganizer,a={},s=function(e){var s={listen:function(n){return o(t,void 0,void 0,function(){var t;return i(this,function(o){switch(o.label){case 0:return[4,this.request({signal:7,eventName:e})];case 1:return t=o.sent().listenerId,r.add(t,n),[2]}})})},unlisten:function(e){return o(t,void 0,void 0,function(){var t;return i(this,function(o){switch(o.label){case 0:if(void 0===(t=r.ids.get(e)))throw n.error("cannot unlisten to unknown listener");return[4,this.request({signal:9,listenerId:t})];case 1:return o.sent(),r.remove(t,e),[2]}})})}};a[e]=s},u=0,c=e;u<c.length;u++){s(c[u])}return a},e}();t.Client=s;var u={createElement:document.createElement.bind(document),appendChild:document.body.appendChild.bind(document.body),removeChild:document.body.removeChild.bind(document.body),addEventListener:window.addEventListener.bind(window),removeEventListener:window.removeEventListener.bind(window),postMessage:null}})},{"./error":13,"./listener-organizer":17}],13:[function(e,t,n){!function(r){if("object"==typeof t&&"object"==typeof t.exports){var o=r(e,n);void 0!==o&&(t.exports=o)}else"function"==typeof define&&define.amd&&define(["require","exports"],r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.error=function(e){return new Error("crosscall-error: "+e)}})},{}],14:[function(e,t,n){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(r){if("object"==typeof t&&"object"==typeof t.exports){var o=r(e,n);void 0!==o&&(t.exports=o)}else"function"==typeof define&&define.amd&&define(["require","exports","./error"],r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("./error"),a=function(){function e(e){var t,a=e.callee,c=e.permissions,d=e.events,l=void 0===d?{}:d,f=e.shims,p=void 0===f?{}:f,h=this;if(this.listeners=new Map,this.messageId=0,this.listenerId=0,this.handleMessageEvent=function(e){var t=e.origin,n=e.data;return o(h,void 0,void 0,function(){return i(this,function(e){return[2,this.receiveMessage({origin:t,message:n})]})})},this.messageHandlers=((t={})[2]=function(e){var t=e.message,n=e.origin,r=e.permission;return o(h,void 0,void 0,function(){var e,o;return i(this,function(i){return e=r.allowed,o=r.allowedEvents,this.sendMessage({signal:3,associate:t.id,allowed:e,allowedEvents:o},n),[2]})})},t[4]=function(e){var t=e.message,r=e.origin,a=e.permission;return o(h,void 0,void 0,function(){var e,o,s,u,c,d,l,f;return i(this,function(i){switch(i.label){case 0:return e=this.callee,o=t.id,t.signal,s=t.topic,u=t.method,c=t.params,function(e){var t=e.allowed,r=e.topic,o=e.method,i=e.origin,a=t[r];if(!a||!a.find(function(e){return e===o}))throw n.error('no permission for method "'+r+"."+o+'" for origin "'+i+'"')}({allowed:a.allowed,topic:s,method:u,origin:r}),d=this.sendMessage,l={signal:5,associate:o},[4,(f=e[s])[u].apply(f,c)];case 1:return d.apply(this,[(l.result=i.sent(),l),r]),[2]}})})},t[7]=function(e){var t=e.message,n=e.origin,r=e.permission;return o(h,void 0,void 0,function(){var e,o,a,s,c,d,l,f,p=this;return i(this,function(i){return e=t.eventName,o=t.id,a=r.allowedEvents,u({eventName:e,allowedEvents:a,origin:n}),c=(s=this).events,s.listeners,d=c[e],l=this.listenerId++,f=function(e){p.fireEvent(l,e,n)},d.listen(f),this.listeners.set(l,{listener:f,eventName:e}),this.sendMessage({signal:8,associate:o,listenerId:l},n),[2]})})},t[9]=function(e){var t=e.message,n=e.origin,r=e.permission;return o(h,void 0,void 0,function(){var e,o,a,s,c,d,l,f;return i(this,function(i){return o=(e=this).events,e.listeners,a=t.listenerId,s=t.id,c=this.listeners.get(a),d=c.listener,l=c.eventName,f=r.allowedEvents,u({eventName:l,allowedEvents:f,origin:n}),o[l].unlisten(d),this.sendMessage({signal:10,associate:s},n),[2]})})},t),this.shims=r({},s,p),!this.shims.postMessage)throw n.error("crosscall host must be loaded via iframe");this.callee=a,this.events=l,this.permissions=c,this.shims.addEventListener("message",this.handleMessageEvent,!1),this.sendMessage({signal:1},"*")}return e.prototype.destructor=function(){var e=this.handleMessageEvent;this.shims.removeEventListener;this.shims.removeEventListener("message",e)},e.prototype.receiveMessage=function(e){var t=e.message,r=e.origin;return o(this,void 0,void 0,function(){var e,o,a,s;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=this.permissions,o=function(e){var t=e.origin,r=e.permissions.find(function(e){var n=e.origin;e.allowed;return n.test(t)});if(!r)throw n.error('no permission for origin "'+t+'"');return r}({origin:r,permissions:e}),[4,(0,this.messageHandlers[t.signal])({message:t,origin:r,permission:o})];case 1:return i.sent(),[3,3];case 2:throw a=i.sent(),s={signal:0,error:a.message,associate:t.id},this.sendMessage(s,r),a;case 3:return[2]}})})},e.prototype.sendMessage=function(e,t){return o(this,void 0,void 0,function(){var n,o,a;return i(this,function(i){switch(i.label){case 0:return n=this.shims.postMessage,o=this.messageId++,a=r({},e,{id:o}),[4,n(a,t)];case 1:return i.sent(),[2,o]}})})},e.prototype.fireEvent=function(e,t,n){return o(this,void 0,void 0,function(){return i(this,function(r){return[2,this.sendMessage({signal:6,listenerId:e,eventPayload:t},n)]})})},e}();t.Host=a;var s={postMessage:window===window.parent?void 0:window.parent.postMessage.bind(window.parent),addEventListener:window.addEventListener.bind(window),removeEventListener:window.removeEventListener.bind(window)};function u(e){var t=e.eventName,r=e.allowedEvents,o=e.origin;if(!(void 0!==r.find(function(e){return e===t})))throw n.error('no permission for eventName "'+t+'" for origin "'+o+'"')}})},{"./error":13}],15:[function(e,t,n){!function(r){if("object"==typeof t&&"object"==typeof t.exports){var o=r(e,n);void 0!==o&&(t.exports=o)}else"function"==typeof define&&define.amd&&define(["require","exports","./host","./client","./interfaces"],r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("./host");t.Host=n.Host;var r=e("./client");t.Client=r.Client,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(e("./interfaces"))})},{"./client":12,"./host":14,"./interfaces":16}],16:[function(e,t,n){!function(r){if("object"==typeof t&&"object"==typeof t.exports){var o=r(e,n);void 0!==o&&(t.exports=o)}else"function"==typeof define&&define.amd&&define(["require","exports"],r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})})},{}],17:[function(e,t,n){!function(r){if("object"==typeof t&&"object"==typeof t.exports){var o=r(e,n);void 0!==o&&(t.exports=o)}else"function"==typeof define&&define.amd&&define(["require","exports"],r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.ids=new Map,this.listeners=new Map}return e.prototype.add=function(e,t){this.ids.set(t,e),this.listeners.set(e,t)},e.prototype.remove=function(e,t){this.ids.delete(t),this.listeners.delete(e)},e}();t.ListenerOrganizer=n})},{}],18:[function(e,t,n){t.exports=e("./src").locale2()},{"./src":19}],19:[function(e,t,n){(function(t,r){var o=e("./utils").formatLocale;n.locale2=function(e){return o(function(e){return e||(r.chrome&&r.chrome.runtime&&"function"==typeof r.chrome.runtime.getManifest&&(e=r.chrome.runtime.getManifest())&&e.current_locale?e.current_locale:!(e=r.navigator&&(r.navigator.languages&&r.navigator.languages[0]||r.navigator.language||r.navigator.userLanguage))&&r.navigator&&r.navigator.userAgent&&(e=r.navigator.userAgent.match(/;.(\w+-\w+)/i))?e[1]:(e||(e=(r.clientInformation||Object.create(null)).language),e||(r.Intl&&"function"==typeof r.Intl.DateTimeFormat&&(e=r.Intl.DateTimeFormat().resolvedOptions&&r.Intl.DateTimeFormat().resolvedOptions().locale),e||!["LANG","LANGUAGE"].some(Object.hasOwnProperty,t.env))?e:"en_CA.UTF-8".replace(/[.:].*/,"").replace("_","-")))}(e))}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./utils":20,_process:29}],20:[function(e,t,n){n.formatLocale=function(e){return"string"!=typeof e?e:e.split("-").slice(0,2).map(function(e,t){return 0!==t&&2===e.length?e.toUpperCase():e}).join("-")}},{}],21:[function(e,t,n){(function(r){!function(r,o){"object"==typeof n&&void 0!==t?o(n,e("preact"),e("mobx")):"function"==typeof define&&define.amd?define(["exports","preact","mobx"],o):o(r.mobxPreact={},r.preact,r.mobx)}(this,function(e,t,n){"use strict";function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.prefix,r=void 0===n?"":n,o=t.suffix,i=void 0===o?"":o;return r+(e.displayName||e.name||e.constructor&&e.constructor.name||"<component>")+i}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},d=!1,l=console;function f(e,t,r,o,i){var a=function(e){var t=n._getGlobalState().allowStateChanges;return n._getGlobalState().allowStateChanges=e,t}(e),s=void 0;try{s=t(r,o,i)}finally{!function(e){n._getGlobalState().allowStateChanges=e}(a)}return s}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e[t],o=y[t],i=r?!0===n?function(){o.apply(this,arguments),r.apply(this,arguments)}:function(){r.apply(this,arguments),o.apply(this,arguments)}:o;e[t]=i}function h(e,t){if(null==e||null==t||"object"!==(void 0===e?"undefined":i(e))||"object"!==(void 0===t?"undefined":i(t)))return e!==t;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(var r=void 0,o=n.length-1;r=n[o];o--)if(t[r]!==e[r])return!0;return!1}var y={componentWillMount:function(){var e=this;if(!0!==d){var r=o(this),i=!1,a=!1;p.call(this,"props"),p.call(this,"state");var s=this.render.bind(this),u=null,c=!1,l=function(e,t,n){c=!1;var r=void 0,o=void 0;if(u.track(function(){try{o=f(!1,s,e,t,n)}catch(e){r=e}}),r)throw r;return o};this.render=function(){return(u=new n.Reaction(r+".render()",function(){if(!c&&(c=!0,"function"==typeof e.componentWillReact&&e.componentWillReact(),!0!==e.__$mobxIsUnmounted)){var n=!0;try{a=!0,i||t.Component.prototype.forceUpdate.call(e),n=!1}finally{a=!1,n&&u.dispose()}}})).reactComponent=e,l.$mobx=u,e.render=l,l(e.props,e.state,e.context)}}function p(e){var t=this[e],r=n.createAtom("reactive "+e);Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:function(){return r.reportObserved(),t},set:function(e){!a&&h(t,e)?(t=e,i=!0,r.reportChanged(),i=!1):t=e}})}},componentWillUnmount:function(){!0!==d&&(this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0)},componentDidMount:function(){},componentDidUpdate:function(){},shouldComponentUpdate:function(e,t){return d&&l.warn("[mobx-preact] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||h(this.props,e)}};function v(e){var n,r,i;if(arguments.length>1&&l.warn('Mobx observer: Using observer to inject stores is not supported. Use `@connect(["store1", "store2"]) ComponentClass instead or preferably, use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))``'),!0===e.isMobxInjector&&l.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),!((i=e).prototype&&i.prototype.render||t.Component.isPrototypeOf(i)))return v((r=n=function(t){function n(){return a(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,t),s(n,[{key:"render",value:function(){return e.call(this,this.props,this.context)}}]),n}(t.Component),n.displayName=o(e),r));if(!e)throw new Error("Please pass a valid component to 'observer'");return function(e){p(e,"componentWillMount",!0),p(e,"componentDidMount"),e.shouldComponentUpdate||(e.shouldComponentUpdate=y.shouldComponentUpdate)}(e.prototype||e),e.isMobXReactObserver=!0,e}var m=v(function(e){return e.children[0]()});m.displayName="Observer";"undefined"!=typeof window?window:void 0!==r||"undefined"!=typeof self&&self;var g,b=(function(e,t){var n,r,o,i,a,s,u,c;e.exports=(n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,i=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,c=u&&u(Object),function e(t,d,l){if("string"!=typeof d){if(c){var f=u(d);f&&f!==c&&e(t,f,l)}var p=i(d);a&&(p=p.concat(a(d)));for(var h=0;h<p.length;++h){var y=p[h];if(!(n[y]||r[y]||l&&l[y])){var v=s(d,y);try{o(t,y,v)}catch(e){}}}return t}return t})}(g={exports:{}},g.exports),g.exports),_={isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function w(e,n,r){var i,d,l=o(n,{prefix:"inject-",suffix:r?"-with-"+r:""}),f=(d=i=function(r){function o(){return a(this,o),c(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return u(o,r),s(o,[{key:"render",value:function(){var r={};for(var o in this.props)this.props.hasOwnProperty(o)&&(r[o]=this.props[o]);var i=e(this.context.mobxStores||{},r,this.context)||{};for(var a in i)r[a]=i[a];return t.h(n,r)}}]),o}(t.Component),i.displayName=l,d);return b(f,n),f.wrappedComponent=n,Object.defineProperties(f,_),f}function O(){var e=void 0;if("function"==typeof arguments[0])return e=arguments[0],function(t){var n=w(e,t);return n.isMobxInjector=!1,(n=v(n)).isMobxInjector=!0,n};for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e=function(e){return function(t,n){return e.forEach(function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}}),n}}(t),function(n){return w(e,n,t.join("-"))}}var P={children:!0,key:!0,ref:!0},C=console,k=function(e){function n(){return a(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return u(n,e),s(n,[{key:"render",value:function(e){var n=e.children;return n.length>1?t.h("div",null," ",n," "):n[0]}},{key:"getChildContext",value:function(){var e={},t=this.context.mobxStores;if(t)for(var n in t)e[n]=t[n];for(var r in this.props)P[r]||"suppressChangedStoreWarning"===r||(e[r]=this.props[r]);return{mobxStores:e}}},{key:"componentWillReceiveProps",value:function(e){if(Object.keys(e).length!==Object.keys(this.props).length&&C.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var t in e)P[t]||this.props[t]===e[t]||C.warn("MobX Provider: Provided store '"+t+"' has changed. Please avoid replacing stores as the change might not propagate to all children")}}]),n}(t.Component);if(!t.Component)throw new Error("mobx-preact requires Preact to be available");e.observer=v,e.Observer=m,e.useStaticRendering=function(e){d=e},e.connect=function e(t,n){if("string"==typeof t)throw new Error("Store names should be provided as array");return Array.isArray(t)?n?O.apply(null,t)(e(n)):function(n){return e(t,n)}:v(t)},e.inject=O,e.Provider=k,Object.defineProperty(e,"__esModule",{value:!0})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{mobx:22,preact:28}],22:[function(e,t,n){(function(e,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};var o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};function i(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var s="An invariant failed, however the error is obfuscated because this is an production build.",u=[];Object.freeze(u);var c={};function d(){return++be.mobxGuid}function l(e){throw f(!1,e),"X"}function f(e,t){if(!e)throw new Error("[mobx] "+(t||s))}function p(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}Object.freeze(c);var h=function(){};function y(e){return null!==e&&"object"==typeof e}function v(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function m(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function g(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}function b(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return y(e)&&!0===e[n]}}function _(e){return e instanceof Map}function w(e){return null===e?null:"object"==typeof e?""+e:e}var O=Symbol("mobx administration"),P=function(){function e(e){void 0===e&&(e="Atom@"+d()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=n.IDerivationState.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return xe(this)},e.prototype.reportChanged=function(){Se(),function(e){if(e.lowestObserverState===n.IDerivationState.STALE)return;e.lowestObserverState=n.IDerivationState.STALE,e.observers.forEach(function(t){t.dependenciesState===n.IDerivationState.UP_TO_DATE&&(t.isTracing!==te.NONE&&Ie(t,e),t.onBecomeStale()),t.dependenciesState=n.IDerivationState.STALE})}(this),Ae()},e.prototype.toString=function(){return this.name},e}(),C=b("Atom",P);function k(e,t,n){void 0===t&&(t=h),void 0===n&&(n=h);var r=new P(e);return Je(r,t),Ge(r,n),r}var S={identity:function(e,t){return e===t},structural:function(e,t){return Wt(e,t)},default:function(e,t){return Object.is(e,t)}},A=Symbol("mobx did run lazy initializers"),x=Symbol("mobx pending decorators"),I={},T={};function j(e){if(!0!==e[A]){var t=e[x];if(t)for(var n in m(e,A,!0),t){var r=t[n];r.propertyCreator(e,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function E(e,t){return function(){var n,r=function(r,i,a,s){if(!0===s)return t(r,i,a,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,x)){var u=r[x];m(r,x,o({},u))}return r[x][i]={prop:i,propertyCreator:t,descriptor:a,decoratorTarget:r,decoratorArguments:n},function(e,t){var n=t?I:T;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return j(this),this[e]},set:function(t){j(this),this[e]=t}})}(i,e)};return F(arguments)?(n=u,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function F(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]||4===e.length&&!0===e[3]}function N(e,t,n){return ut(e)?e:Array.isArray(e)?W.array(e,{name:n}):v(e)?W.object(e,void 0,{name:n}):_(e)?W.map(e,{name:n}):e}function M(e){return e}function D(t){f(t);var n=E(!0,function(e,n,r,o,i){var a=r?r.initializer?r.initializer.call(e):r.value:void 0;Mt(e).addObservableProp(n,a,t)}),r=(void 0!==e&&e.env,n);return r.enhancer=t,r}var B={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function L(e){return null===e||void 0===e?B:"string"==typeof e?{name:e,deep:!0,proxy:!0}:e}Object.freeze(B);var R=D(N),U=D(function(e,t,n){return void 0===e||null===e?e:Ut(e)||Tt(e)||Ft(e)?e:Array.isArray(e)?W.array(e,{name:n,deep:!1}):v(e)?W.object(e,void 0,{name:n,deep:!1}):_(e)?W.map(e,{name:n,deep:!1}):l(!1)}),V=D(M),q=D(function(e,t,n){return Wt(e,t)?t:e});function Q(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?M:N}var H={box:function(e,t){arguments.length>2&&K("box");var n=L(t);return new re(e,Q(n),n.name)},array:function(e,t){arguments.length>2&&K("array");var n=L(t);return function(e,t,n,r){void 0===n&&(n="ObservableArray@"+d());void 0===r&&(r=!1);var o=new St(n,t,r);i=o.values,a=O,s=o,Object.defineProperty(i,a,{enumerable:!1,writable:!1,configurable:!0,value:s});var i,a,s;var u=new Proxy(o.values,kt);if(o.proxy=u,e&&e.length){var c=Y(!0);o.spliceWithArray(0,0,e),Z(c)}return u}(e,Q(n),n.name)},map:function(e,t){arguments.length>2&&K("map");var n=L(t);return new Et(e,Q(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&K("object");var r=L(n);if(!1===r.proxy)return $e({},e,t,r);var o=Ye(r),i=function(e){var t=new Proxy(e,gt);return e[O].proxy=t,t}($e({},void 0,void 0,r));return Ze(i,e,t,o),i},ref:V,shallow:U,deep:R,struct:q},W=function(e,t,n){if("string"==typeof arguments[1])return R.apply(null,arguments);if(ut(e))return e;var r=v(e)?W.object(e,t,n):Array.isArray(e)?W.array(e,t):_(e)?W.map(e,t):e;if(r!==e)return r;l(!1)};function K(e){l("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(H).forEach(function(e){return W[e]=H[e]});var z=E(!1,function(e,t,n,r,i){var a=n.get,s=n.set,u=i[0]||{};Mt(e).addComputedProp(r,t,o({get:a,set:s,context:e},u))}),J=z({equals:S.structural}),G=function(e,t,n){if("string"==typeof t)return z.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return z.apply(null,arguments);var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new ie(r)};function X(e,t){var n=function(){return $(e,t,this,arguments)};return n.isMobxAction=!0,n}function $(e,t,n,r){var o=function(e,t,n,r){var o=Be()&&!!e,i=0;var a=he();Se();var s=Y(!0);return{prevDerivation:a,prevAllowStateChanges:s,notifySpy:o,startTime:i}}(e);try{return t.apply(n,r)}finally{!function(e){Z(e.prevAllowStateChanges),Ae(),ye(e.prevDerivation),e.notifySpy,0}(o)}}function Y(e){var t=be.allowStateChanges;return be.allowStateChanges=e,t}function Z(e){be.allowStateChanges=e}G.struct=J;var ee,te,ne={},re=function(e){function t(t,n,r,o){void 0===r&&(r="ObservableValue@"+d()),void 0===o&&(o=!0);var i=e.call(this,r)||this;return i.enhancer=n,i.hasUnreportedChange=!1,i.value=n(t,void 0,r),o&&Be(),i}return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){this.value;if((e=this.prepareNewValue(e))!==ne){Be();0,this.setNewValue(e)}},t.prototype.prepareNewValue=function(e){if(de(this),bt(this)){var t=wt(this,{object:this,type:"update",newValue:e});if(!t)return ne;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.value!==e?e:ne},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Ot(this)&&Ct(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return _t(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Pt(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return w(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(P),oe=b("ObservableValue",re),ie=function(){function e(e){this.dependenciesState=n.IDerivationState.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=n.IDerivationState.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+d(),this.value=new se(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=te.NONE,this.firstGet=!0,this.derivation=e.get,this.name=e.name||"ComputedValue@"+d(),e.set&&(this.setter=X(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?S.structural:S.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==n.IDerivationState.UP_TO_DATE)return;e.lowestObserverState=n.IDerivationState.POSSIBLY_STALE,e.observers.forEach(function(t){t.dependenciesState===n.IDerivationState.UP_TO_DATE&&(t.dependenciesState=n.IDerivationState.POSSIBLY_STALE,t.isTracing!==te.NONE&&Ie(t,e),t.onBecomeStale())})}(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){var e=this;this.keepAlive&&this.firstGet&&(this.firstGet=!1,We(function(){return e.get()})),this.isComputing&&l("Cycle detected in computation "+this.name+": "+this.derivation),0===be.inBatch&&0===this.observers.size?ce(this)&&(this.warnAboutUntrackedRead(),Se(),this.value=this.computeValue(!1),Ae()):(xe(this),ce(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===n.IDerivationState.STALE)return;e.lowestObserverState=n.IDerivationState.STALE,e.observers.forEach(function(t){t.dependenciesState===n.IDerivationState.POSSIBLY_STALE?t.dependenciesState=n.IDerivationState.STALE:t.dependenciesState===n.IDerivationState.UP_TO_DATE&&(e.lowestObserverState=n.IDerivationState.UP_TO_DATE)})}(this));var t=this.value;if(ue(t))throw t.cause;return t},e.prototype.peek=function(){var e=this.computeValue(!1);if(ue(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){f(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else f(!1,!1)},e.prototype.trackAndCompute=function(){Be();var e=this.value,t=this.dependenciesState===n.IDerivationState.NOT_TRACKING,r=this.computeValue(!0),o=t||ue(e)||ue(r)||!this.equals(e,r);return o&&(this.value=r),o},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,be.computationDepth++,e)t=le(this,this.derivation,this.scope);else if(!0===be.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new se(e)}return be.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){fe(this),this.value=void 0},e.prototype.observe=function(e,t){var n=this,r=!0,o=void 0;return We(function(){var i=n.get();if(!r||t){var a=he();e({type:"update",object:n,newValue:i,oldValue:o}),ye(a)}r=!1,o=i})},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return w(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),ae=b("ComputedValue",ie);(ee=n.IDerivationState||(n.IDerivationState={}))[ee.NOT_TRACKING=-1]="NOT_TRACKING",ee[ee.UP_TO_DATE=0]="UP_TO_DATE",ee[ee.POSSIBLY_STALE=1]="POSSIBLY_STALE",ee[ee.STALE=2]="STALE",function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(te||(te={}));var se=function(){return function(e){this.cause=e}}();function ue(e){return e instanceof se}function ce(e){switch(e.dependenciesState){case n.IDerivationState.UP_TO_DATE:return!1;case n.IDerivationState.NOT_TRACKING:case n.IDerivationState.STALE:return!0;case n.IDerivationState.POSSIBLY_STALE:for(var t=he(),r=e.observing,o=r.length,i=0;i<o;i++){var a=r[i];if(ae(a)){if(be.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return ye(t),!0}if(e.dependenciesState===n.IDerivationState.STALE)return ye(t),!0}}return ve(e),ye(t),!1}}function de(e){var t=e.observers.size>0;be.computationDepth>0&&t&&l(!1),be.allowStateChanges||!t&&"strict"!==be.enforceActions||l(!1)}function le(e,t,r){ve(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++be.runId;var o,i=be.trackingDerivation;if(be.trackingDerivation=e,!0===be.disableErrorBoundaries)o=t.call(r);else try{o=t.call(r)}catch(e){o=new se(e)}return be.trackingDerivation=i,function(e){for(var t=e.observing,r=e.observing=e.newObserving,o=n.IDerivationState.UP_TO_DATE,i=0,a=e.unboundDepsCount,s=0;s<a;s++){var u=r[s];0===u.diffValue&&(u.diffValue=1,i!==s&&(r[i]=u),i++),u.dependenciesState>o&&(o=u.dependenciesState)}r.length=i,e.newObserving=null,a=t.length;for(;a--;){var u=t[a];0===u.diffValue&&Ce(u,e),u.diffValue=0}for(;i--;){var u=r[i];1===u.diffValue&&(u.diffValue=0,Pe(u,e))}o!==n.IDerivationState.UP_TO_DATE&&(e.dependenciesState=o,e.onBecomeStale())}(e),o}function fe(e){var t=e.observing;e.observing=[];for(var r=t.length;r--;)Ce(t[r],e);e.dependenciesState=n.IDerivationState.NOT_TRACKING}function pe(e){var t=he();try{return e()}finally{ye(t)}}function he(){var e=be.trackingDerivation;return be.trackingDerivation=null,e}function ye(e){be.trackingDerivation=e}function ve(e){if(e.dependenciesState!==n.IDerivationState.UP_TO_DATE){e.dependenciesState=n.IDerivationState.UP_TO_DATE;for(var t=e.observing,r=t.length;r--;)t[r].lowestObserverState=n.IDerivationState.UP_TO_DATE}}var me=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","disableErrorBoundaries","runId"],ge=function(){return function(){this.version=5,this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.disableErrorBoundaries=!1}}(),be=new ge,_e=!1,we=Oe();function Oe(){return"undefined"!=typeof window?window:t}function Pe(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Ce(e,t){e.observers.delete(t),0===e.observers.size&&ke(e)}function ke(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,be.pendingUnobservations.push(e))}function Se(){be.inBatch++}function Ae(){if(0==--be.inBatch){Fe();for(var e=be.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof ie&&n.suspend())}be.pendingUnobservations=[]}}function xe(e){var t=be.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&be.inBatch>0&&ke(e),!1)}function Ie(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===te.BREAK){var n=[];!function e(t,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+t.name);t.dependencies&&t.dependencies.forEach(function(t){return e(t,n,r+1)})}(et(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof ie?e.derivation.toString():"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}we.__mobxInstanceCount?(we.__mobxInstanceCount++,setTimeout(function(){_e||l(!1)},1)):we.__mobxInstanceCount=1;var Te=function(){function e(e,t,r){void 0===e&&(e="Reaction@"+d()),this.name=e,this.onInvalidate=t,this.errorHandler=r,this.observing=[],this.newObserving=[],this.dependenciesState=n.IDerivationState.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+d(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=te.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,be.pendingReactions.push(this),Fe())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Se(),this._isScheduled=!1,ce(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Be()}catch(e){this.reportExceptionInDerivation(e)}}Ae()}},e.prototype.track=function(e){Se();Be();this._isRunning=!0;var t=le(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&fe(this),ue(t)&&this.reportExceptionInDerivation(t.cause),Ae()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(be.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this;console.error(n,e),Be()&&Le({type:"error",name:this.name,message:n,error:""+e}),be.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Se(),fe(this),Ae()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[O]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),ht(this,e)},e}();var je=100,Ee=function(e){return e()};function Fe(){be.inBatch>0||be.isRunningReactions||Ee(Ne)}function Ne(){be.isRunningReactions=!0;for(var e=be.pendingReactions,t=0;e.length>0;){++t===je&&(console.error("Reaction doesn't converge to a stable state after "+je+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}be.isRunningReactions=!1}var Me=b("Reaction",Te);function De(e){var t=Ee;Ee=function(n){return e(function(){return t(n)})}}function Be(){return!1}function Le(e){}function Re(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Ue(){l(!1)}function Ve(e){return function(t,n,r){if(r){if(r.value)return{value:X(e,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return X(e,o.call(this))}}}return function(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){m(this,n,qe(e,t))}})}}(e).apply(this,arguments)}}var qe=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?X(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?X(e,t):1===arguments.length&&"string"==typeof e?Ve(e):!0!==r?Ve(t).apply(null,arguments):void m(e,t,X(e.name||t,n.value))};function Qe(e){return"function"==typeof e&&!0===e.isMobxAction}function He(e,t,n){m(e,t,X(t,n.bind(e)))}function We(e,t){void 0===t&&(t=c);var n,r=t&&t.name||e.name||"Autorun@"+d();if(!t.scheduler&&!t.delay)n=new Te(r,function(){this.track(a)},t.onError);else{var o=ze(t),i=!1;n=new Te(r,function(){i||(i=!0,o(function(){i=!1,n.isDisposed||n.track(a)}))},t.onError)}function a(){e(n)}return n.schedule(),n.getDisposer()}qe.bound=function(e,t,n,r){return!0===r?(He(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return He(this,t,n.value||n.initializer.call(this)),this[t]},set:Ue}:{enumerable:!1,configurable:!0,set:function(e){He(this,t,e)},get:function(){}}};var Ke=function(e){return e()};function ze(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Ke}function Je(e,t,n){return Xe("onBecomeObserved",e,t,n)}function Ge(e,t,n){return Xe("onBecomeUnobserved",e,t,n)}function Xe(e,t,n,r){var o="string"==typeof n?Vt(t,n):Vt(t),i="string"==typeof n?r:n,a=o[e];return"function"!=typeof a?l(!1):(o[e]=function(){a.call(this),i.call(this)},function(){o[e]=a})}function $e(e,t,n,r){var o=Ye(r=L(r));return Mt(e,r.name,o.enhancer),t&&Ze(e,t,n,o),e}function Ye(e){return e.defaultDecorator||(!1===e.deep?V:R)}function Ze(e,t,n,r){Se();try{for(var o in t){var i=Object.getOwnPropertyDescriptor(t,o);0;var a=n&&o in n?n[o]:i.get?z:r;0;var s=a(e,o,i,!0);s&&Object.defineProperty(e,o,s)}}finally{Ae()}}function et(e,t){return tt(Vt(e,t))}function tt(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),n).map(tt)),r}function nt(e){var t,n={name:e.name};return(t=e).observers&&t.observers.size>0&&(n.observers=Array.from(function(e){return e.observers}(e)).map(nt)),n}var rt=0;function ot(e){"function"==typeof e.cancel&&e.cancel()}function it(e,t){if(null===e||void 0===e)return!1;if(void 0!==t){if(!1===Ut(e))return!1;if(!e[O].values.has(t))return!1;var n=Vt(e,t);return ae(n)}return ae(e)}function at(e){return arguments.length>1?l(!1):it(e)}function st(e,t){return null!==e&&void 0!==e&&(void 0!==t?!!Ut(e)&&e[O].values.has(t):Ut(e)||!!e[O]||C(e)||Me(e)||ae(e))}function ut(e){return 1!==arguments.length&&l(!1),st(e)}function ct(e){return Ut(e)?e[O].getKeys():Ft(e)?Array.from(e.keys()):l(!1)}function dt(e,t,n){if(2!==arguments.length)if(Ut(e)){var r=e[O];r.values.get(t)?r.write(t,n):r.addObservableProp(t,n,r.defaultEnhancer)}else if(Ft(e))e.set(t,n);else{if(!Tt(e))return l(!1);"number"!=typeof t&&(t=parseInt(t,10)),f(t>=0,"Not a valid index: '"+t+"'"),Se(),t>=e.length&&(e.length=t+1),e[t]=n,Ae()}else{Se();var o=t;try{for(var i in o)dt(e,i,o[i])}finally{Ae()}}}function lt(e,t){return Ut(e)?qt(e).has(t):Ft(e)?e.has(t):Tt(e)?t>=0&&t<e.length:l(!1)}var ft={detectCycles:!0,exportMapsAsObjects:!0};function pt(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function ht(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=function(e){switch(e.length){case 0:return be.trackingDerivation;case 1:return Vt(e[0]);case 2:return Vt(e[0],e[1])}}(e);if(!r)return l(!1);r.isTracing===te.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?te.BREAK:te.LOG}function yt(e,t){void 0===t&&(t=void 0),Se();try{return e.apply(t)}finally{Ae()}}function vt(e,t,n){var r;"number"==typeof n.timeout&&(r=setTimeout(function(){if(!i[O].isDisposed){i();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}},n.timeout)),n.name=n.name||"When@"+d();var o=X(n.name+"-effect",t),i=We(function(t){e()&&(t.dispose(),r&&clearTimeout(r),o())},n);return i}function mt(e){return e[O]}var gt={has:function(e,t){if(t===O||"constructor"===t||t===A)return!0;var n=mt(e);return!!n.values.get(t)||("string"==typeof t?n.has(t):t in e)},get:function(e,t){if(t===O||"constructor"===t||t===A)return e[t];var n=mt(e),r=n.values.get(t);return r instanceof P?r.get():("string"==typeof t&&n.has(t),e[t])},set:function(e,t,n){return"string"==typeof t&&(dt(e,t,n),!0)},deleteProperty:function(e,t){return"string"==typeof t&&(mt(e).remove(t),!0)},ownKeys:function(e){return mt(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return l("Dynamic observable objects cannot be frozen"),!1}};function bt(e){return void 0!==e.interceptors&&e.interceptors.length>0}function _t(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),p(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function wt(e,t){var n=he();try{var r=e.interceptors;if(r)for(var o=0,i=r.length;o<i&&(f(!(t=r[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{ye(n)}}function Ot(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Pt(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),p(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function Ct(e,t){var n=he(),r=e.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);ye(n)}}var kt={get:function(e,t){return t===O?e[O]:"length"===t?e[O].getArrayLength():"number"==typeof t?At.get.call(e,t):"string"!=typeof t||isNaN(t)?At.hasOwnProperty(t)?At[t]:e[t]:At.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t?(e[O].setArrayLength(n),!0):"number"==typeof t?(At.set.call(e,t,n),!0):!isNaN(t)&&(At.set.call(e,parseInt(t),n),!0)},preventExtensions:function(e){return l("Observable arrays cannot be frozen"),!1}};var St=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new P(e||"ObservableArray@"+d()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&this.values.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return _t(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Pt(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,n){var r=this;de(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:void 0===t||null===t?0:Math.max(0,Math.min(t,o-e)),void 0===n&&(n=u),bt(this)){var i=wt(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:n});if(!i)return u;t=i.removedCount,n=i.added}n=0===n.length?n:n.map(function(e){return r.enhancer(e,void 0)});var a=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,a),this.dehanceValues(a)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}([e,t],n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&!1,o=Ot(this),i=o||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;this.atom.reportChanged(),o&&Ct(this,i)},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&!1,o=Ot(this),i=o||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom.reportChanged(),o&&Ct(this,i)},e}(),At={intercept:function(e){return this[O].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[O].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[O];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[O];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(e);case 2:return o.spliceWithArray(e,t)}return o.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[O].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[O];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[O].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[O];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[O],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[O];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[O],r=n.values;if(e<r.length){de(n.atom);var o=r[e];if(bt(n)){var i=wt(n,{type:"update",object:this,index:e,newValue:t});if(!i)return;t=i.newValue}(t=n.enhancer(t,o))!==o&&(r[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(e){At[e]=function(){var t=this[O];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)}});var xt,It=b("ObservableArrayAdministration",St);function Tt(e){return y(e)&&It(e[O])}var jt={},Et=function(){function e(e,t,n){if(void 0===t&&(t=N),void 0===n&&(n="ObservableMap@"+d()),this.enhancer=t,this.name=n,this[xt]=jt,this._keysAtom=k(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){return this._hasMap.has(e)?this._hasMap.get(e).get():this._updateHasMapEntry(e,!1).get()},e.prototype.set=function(e,t){var n=this._has(e);if(bt(this)){var r=wt(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(bt(this)&&!(r=wt(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=Ot(this),r=n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return yt(function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)}),n&&Ct(this,r),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);return n?n.setNewValue(t):(n=new re(t,M,this.name+"."+e+"?",!1),this._hasMap.set(e,n)),n},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==ne){var r=Ot(this),o=r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;0,n.setNewValue(t),r&&Ct(this,o)}},e.prototype._addValue=function(e,t){var n=this;de(this._keysAtom),yt(function(){var r=new re(t,n.enhancer,n.name+"."+e,!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()});var r=Ot(this),o=r?{type:"add",object:this,name:e,newValue:t}:null;r&&Ct(this,o)},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=0,n=Array.from(this.keys());return Gt({next:function(){return t<n.length?{value:e.get(n[t++]),done:!1}:{done:!0}}})},e.prototype.entries=function(){var e=this,t=0,n=Array.from(this.keys());return Gt({next:function(){if(t<n.length){var r=n[t++];return{value:[r,e.get(r)],done:!1}}return{done:!0}}})},e.prototype[(xt=O,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var o=i(this),s=o.next();!s.done;s=o.next()){var u=a(s.value,2),c=u[0],d=u[1];e.call(t,d,c,this)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return Ft(e)&&(e=e.toJS()),yt(function(){v(e)?Object.keys(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=a(e,2),r=n[0],o=n[1];return t.set(r,o)}):_(e)?e.forEach(function(e,n){return t.set(n,e)}):null!==e&&void 0!==e&&l("Cannot initialize map from "+e)}),this},e.prototype.clear=function(){var e=this;yt(function(){pe(function(){var t,n;try{for(var r=i(e.keys()),o=r.next();!o.done;o=r.next()){var a=o.value;e.delete(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}})})},e.prototype.replace=function(e){var t=this;return yt(function(){var n,r=v(n=e)?Object.keys(n):Array.isArray(n)?n.map(function(e){return a(e,1)[0]}):_(n)||Ft(n)?Array.from(n.keys()):l("Cannot get keys from '"+n+"'");Array.from(t.keys()).filter(function(e){return-1===r.indexOf(e)}).forEach(function(e){return t.delete(e)}),t.merge(e)}),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=i(this),o=r.next();!o.done;o=r.next()){var s=a(o.value,2),u=s[0],c=s[1];n[""+u]=c}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map(function(t){return t+": "+e.get(t)}).join(", ")+" }]"},e.prototype.observe=function(e,t){return Pt(this,e)},e.prototype.intercept=function(e){return _t(this,e)},e}(),Ft=b("ObservableMap",Et),Nt=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new P(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof ie)r.set(t);else{if(bt(this)){if(!(i=wt(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=i.newValue}if((t=r.prepareNewValue(t))!==ne){var o=Ot(this),i=o?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;0,r.setNewValue(t),o&&Ct(this,i)}}},e.prototype.has=function(e){return this.values.get(e)instanceof re||(this.waitForKey(e),!1)},e.prototype.waitForKey=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);n||(n=new re(!1,M,this.name+"."+e.toString()+"?",!1),t.set(e,n)),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(bt(this)){var o=wt(this,{object:this.proxy||r,name:e,type:"add",newValue:t});if(!o)return;t=o.newValue}var i=new re(t,n,this.name+"."+e,!1);this.values.set(e,i),t=i.value,Object.defineProperty(r,e,function(e){return Dt[e]||(Dt[e]={configurable:!0,enumerable:!0,get:function(){return this[O].read(e)},set:function(t){this[O].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r=this.target;n.name=n.name||this.name+"."+t,this.values.set(t,new ie(n)),(e===r||g(e,t))&&Object.defineProperty(e,t,function(e){return Bt[e]||(Bt[e]={configurable:!0,enumerable:!1,get:function(){return Lt(this).read(e)},set:function(t){Lt(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(bt(this))if(!(i=wt(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{Se();var n=Ot(this),r=this.values.get(e),o=r&&r.get();r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),delete this.target[e];var i=n?{type:"remove",object:this.proxy||t,oldValue:o,name:e}:null;0,n&&Ct(this,i)}finally{Ae()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return Pt(this,e)},e.prototype.intercept=function(e){return _t(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=Ot(this),r=n?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(n&&Ct(this,r),this.pendingKeys){var o=this.pendingKeys.get(e);o&&o.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=i(this.values),o=r.next();!o.done;o=r.next()){var s=a(o.value,2),u=s[0];s[1]instanceof re&&n.push(u)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function Mt(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=N),Object.prototype.hasOwnProperty.call(e,O))return e[O];v(e)||(t=(e.constructor.name||"ObservableObject")+"@"+d()),t||(t="ObservableObject@"+d());var r=new Nt(e,new Map,t,n);return m(e,O,r),r}var Dt={},Bt={};function Lt(e){var t=e[O];return t||(j(e),e[O])}var Rt=b("ObservableObjectAdministration",Nt);function Ut(e){return!!y(e)&&(j(e),Rt(e[O]))}function Vt(e,t){if("object"==typeof e&&null!==e){if(Tt(e))return void 0!==t&&l(!1),e[O].atom;if(Ft(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||l(!1),r)}var r;if(j(e),t&&!e[O]&&e[t],Ut(e))return t?((r=e[O].values.get(t))||l(!1),r):l(!1);if(C(e)||ae(e)||Me(e))return e}else if("function"==typeof e&&Me(e[O]))return e[O];return l(!1)}function qt(e,t){return e||l("Expecting some object"),void 0!==t?qt(Vt(e,t)):C(e)||ae(e)||Me(e)?e:Ft(e)?e:(j(e),e[O]?e[O]:void l(!1))}function Qt(e,t){return(void 0!==t?Vt(e,t):Ut(e)||Ft(e)?qt(e):Vt(e)).name}var Ht=Object.prototype.toString;function Wt(e,t){return Kt(e,t)}function Kt(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&function(e,t,n,r){e=zt(e),t=zt(t);var o=Ht.call(e);if(o!==Ht.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t)}var i="[object Array]"===o;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!("function"==typeof a&&a instanceof a&&"function"==typeof s&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];var u=n.length;for(;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),i){if((u=e.length)!==t.length)return!1;for(;u--;)if(!Kt(e[u],t[u],n,r))return!1}else{var c,d=Object.keys(e);if(u=d.length,Object.keys(t).length!==u)return!1;for(;u--;)if(c=d[u],!Jt(t,c)||!Kt(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0}(e,t,n,r)}function zt(e){return Tt(e)?e.slice():_(e)||Ft(e)?Array.from(e.entries()):e}function Jt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Gt(e){return e[Symbol.iterator]=Xt,e}function Xt(){return this}if("undefined"==typeof Proxy)throw new Error("[mobx] MobX 5+ requires Proxy objects. If your environment doesn't support Proxy objects, please downgrade to MobX 4.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Re,extras:{getDebugName:Qt},$mobx:O}),n.Reaction=Te,n.untracked=pe,n.createAtom=k,n.spy=Re,n.comparer=S,n.isObservableObject=Ut,n.isBoxedObservable=oe,n.isObservableArray=Tt,n.ObservableMap=Et,n.isObservableMap=Ft,n.transaction=yt,n.observable=W,n.computed=G,n.isObservable=ut,n.isObservableProp=function(e,t){return"string"!=typeof t?l(!1):st(e,t)},n.isComputed=at,n.isComputedProp=function(e,t){return"string"!=typeof t?l(!1):it(e,t)},n.extendObservable=$e,n.observe=function(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return qt(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return qt(e).observe(t,n)}(e,t,n)},n.intercept=function(e,t,n){return"function"==typeof n?function(e,t,n){return qt(e,t).intercept(n)}(e,t,n):function(e,t){return qt(e).intercept(t)}(e,t)},n.autorun=We,n.reaction=function(e,t,n){void 0===n&&(n=c);var r,o,i,a=n.name||"Reaction@"+d(),s=qe(a,n.onError?(r=n.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){r.call(this,e)}}):t),u=!n.scheduler&&!n.delay,l=ze(n),f=!0,p=!1,h=n.compareStructural?S.structural:n.equals||S.default,y=new Te(a,function(){f||u?v():p||(p=!0,l(v))},n.onError);function v(){if(p=!1,!y.isDisposed){var t=!1;y.track(function(){var n=e(y);t=f||!h(i,n),i=n}),f&&n.fireImmediately&&s(i,y),f||!0!==t||s(i,y),f&&(f=!1)}}return y.schedule(),y.getDisposer()},n.when=function(e,t,n){return 1===arguments.length||t&&"object"==typeof t?function(e,t){var n,r=new Promise(function(r,i){var a=vt(e,r,o({},t,{onError:i}));n=function(){a(),i("WHEN_CANCELLED")}});return r.cancel=n,r}(e,t):vt(e,t,n||{})},n.action=qe,n.isAction=Qe,n.runInAction=function(e,t){var n="string"==typeof e?e:e.name||"<unnamed action>",r="function"==typeof e?e:t;return $(n,r,this,void 0)},n.keys=ct,n.values=function(e){return Ut(e)?ct(e).map(function(t){return e[t]}):Ft(e)?ct(e).map(function(t){return e.get(t)}):Tt(e)?e.slice():l(!1)},n.entries=function(e){return Ut(e)?ct(e).map(function(t){return[t,e[t]]}):Ft(e)?ct(e).map(function(t){return[t,e.get(t)]}):Tt(e)?e.map(function(e,t){return[t,e]}):l(!1)},n.set=dt,n.remove=function(e,t){if(Ut(e))e[O].remove(t);else if(Ft(e))e.delete(t);else{if(!Tt(e))return l(!1);"number"!=typeof t&&(t=parseInt(t,10)),f(t>=0,"Not a valid index: '"+t+"'"),e.splice(t,1)}},n.has=lt,n.get=function(e,t){if(lt(e,t))return Ut(e)?e[t]:Ft(e)?e.get(t):Tt(e)?e[t]:l(!1)},n.decorate=function(e,t){var n="function"==typeof e?e.prototype:e;for(var r in t){var o=t[r],i=o(n,r,Object.getOwnPropertyDescriptor(n,r));i&&Object.defineProperty(n,r,i)}return e},n.configure=function(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.disableErrorBoundaries,o=e.reactionScheduler;if(void 0!==t){if("boolean"!=typeof t&&"strict"!==t)return fail("Invalid configuration for 'enforceActions': "+t);be.enforceActions=t,be.allowStateChanges=!0!==t&&"strict"!==t}void 0!==n&&(be.computedRequiresReaction=!!n),!0===e.isolateGlobalState&&(_e=!0,Oe().__mobxInstanceCount--),void 0!==r&&(!0===r&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),be.disableErrorBoundaries=!!r),o&&De(o)},n.onBecomeObserved=Je,n.onBecomeUnobserved=Ge,n.flow=function(e){1!==arguments.length&&l("Flow expects one 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var n,r=arguments,o=++rt,i=qe(t+" - runid: "+o+" - init",e).apply(this,r),a=void 0,s=new Promise(function(e,r){var s=0;function u(e){var n;a=void 0;try{n=qe(t+" - runid: "+o+" - yield "+s++,i.next).call(i,e)}catch(e){return r(e)}d(n)}function c(e){var n;a=void 0;try{n=qe(t+" - runid: "+o+" - yield "+s++,i.throw).call(i,e)}catch(e){return r(e)}d(n)}function d(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(a=Promise.resolve(t.value)).then(u,c);t.then(d,r)}n=r,u(void 0)});return s.cancel=qe(t+" - runid: "+o+" - cancel",function(){try{a&&ot(a);var e=i.return(),t=Promise.resolve(e.value);t.then(h,h),ot(t),n(new Error("FLOW_CANCELLED"))}catch(e){n(e)}}),s}},n.toJS=function(e,t){return ut(e)?("boolean"==typeof t&&(t={detectCycles:t}),t||(t=ft),!0===t.detectCycles&&(n=new Map),function e(t,n,r){if(!ut(t))return t;if(!0===n.detectCycles&&null!==t&&"object"==typeof t&&r.has(t))return r.get(t);if(Tt(t)){var o=pt(r,t,[],n),i=t.map(function(t){return e(t,n,r)});o.length=i.length;for(var a=0,s=i.length;a<s;a++)o[a]=i[a];return o}if(Ut(t)){for(var u in o=pt(r,t,{},n),ct(t),t)o[u]=e(t[u],n,r);return o}if(Ft(t)){if(!1===n.exportMapsAsObjects){var c=pt(r,t,new Map,n);return t.forEach(function(t,o){c.set(o,e(t,n,r))}),c}var d=pt(r,t,{},n);return t.forEach(function(t,o){d[o]=e(t,n,r)}),d}return oe(t)?e(t.get(),n,r):t}(e,t,n)):e;var n},n.trace=ht,n.getDependencyTree=et,n.getObserverTree=function(e,t){return nt(Vt(e,t))},n._resetGlobalState=function(){var e=new ge;for(var t in e)-1===me.indexOf(t)&&(be[t]=e[t]);be.allowStateChanges=!be.enforceActions},n._getGlobalState=function(){return be},n.getDebugName=Qt,n.getAtom=Vt,n._getAdministration=qt,n._allowStateChanges=function(e,t){var n,r=Y(e);try{n=t()}finally{Z(r)}return n},n.isArrayLike=function(e){return Array.isArray(e)||Tt(e)},n.$mobx=O,n._isComputingDerivation=function(){return null!==be.trackingDerivation},n.onReactionError=function(e){return be.globalReactionErrorHandlers.push(e),function(){var t=be.globalReactionErrorHandlers.indexOf(e);t>=0&&be.globalReactionErrorHandlers.splice(t,1)}},n._interceptReads=function(e,t,n){var r;if(Ft(e)||Tt(e)||oe(e))r=qt(e);else{if(!Ut(e))return l(!1);if("string"!=typeof t)return l(!1);r=qt(e,t)}return void 0!==r.dehancer?l(!1):(r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0})}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:29}],23:[function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(r){if("object"==typeof t&&"object"==typeof t.exports){var o=r(e,n);void 0!==o&&(t.exports=o)}else"function"==typeof define&&define.amd&&define(["require","exports"],r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=e.storage;this.storage=t}return e.prototype.key=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){return[2,this.storage.key(e)]})})},e.prototype.getItem=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){return[2,this.storage.getItem(e)]})})},e.prototype.setItem=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){return[2,this.storage.setItem(e,t)]})})},e.prototype.removeItem=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){return[2,this.storage.removeItem(e)]})})},e.prototype.clear=function(){return r(this,void 0,void 0,function(){return o(this,function(e){return[2,this.storage.clear()]})})},e.prototype.getAllEntries=function(){return r(this,void 0,void 0,function(){var e,t,n,r;return o(this,function(o){for(e=[],t=0,n=Object.keys(this.storage);t<n.length;t++)r=n[t],e.push([r,this.storage.getItem(r)]);return[2,e]})})},e}();t.HostStorageAdapter=n;var i=function(){return{addEventListener:window.addEventListener.bind(window),removeEventListener:window.removeEventListener.bind(window)}},a=function(){function e(e){var t=e.storage,n=e.shims,r=void 0===n?i():n;this.domHandlers=new Map,Object.assign(this,{storage:t,shims:r})}return e.prototype.makeDomHandler=function(e){var t=this,n=function(n){n.storageArea===t.storage&&e(n)};return this.domHandlers.set(e,n),n},e.prototype.trashDomHandler=function(e){var t=this.domHandlers.get(e);if(!t)throw new Error("could not find dom handler for crosscall listener in host-storage-adapter");return this.domHandlers.delete(e),t},e.prototype.listen=function(e){var t=this.makeDomHandler(e);this.shims.addEventListener("storage",t,!1)},e.prototype.unlisten=function(e){var t=this.trashDomHandler(e);this.shims.removeEventListener("storage",t)},e}();t.HostStorageEventMediator=a})},{}],24:[function(e,t,n){!function(r){if("object"==typeof t&&"object"==typeof t.exports){var o=r(e,n);void 0!==o&&(t.exports=o)}else"function"==typeof define&&define.amd&&define(["require","exports","./host-storage-adapter","./local-client","./prepare-client","./prepare-host"],r)}(function(e,t){"use strict";function n(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(e("./host-storage-adapter")),n(e("./local-client")),n(e("./prepare-client")),n(e("./prepare-host"))})},{"./host-storage-adapter":23,"./local-client":25,"./prepare-client":26,"./prepare-host":27}],25:[function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(r){if("object"==typeof t&&"object"==typeof t.exports){var o=r(e,n);void 0!==o&&(t.exports=o)}else"function"==typeof define&&define.amd&&define(["require","exports"],r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.storage=e.storage}return e.prototype.key=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){return[2,this.storage.key(e)]})})},e.prototype.getItem=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){return[2,this.storage.getItem(e)]})})},e.prototype.setItem=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){return[2,this.storage.setItem(e,t)]})})},e.prototype.removeItem=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){return[2,this.storage.removeItem(e)]})})},e.prototype.clear=function(){return r(this,void 0,void 0,function(){return o(this,function(e){return[2,this.storage.clear()]})})},e.prototype.getAllEntries=function(){return r(this,void 0,void 0,function(){var e,t=this;return o(this,function(n){return e=Object.keys(this.storage),[2,e.map(function(e){return[e,t.storage.getItem(e)]})]})})},e}();t.LocalClient=n})},{}],26:[function(e,t,n){var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};!function(r){if("object"==typeof t&&"object"==typeof t.exports){var o=r(e,n);void 0!==o&&(t.exports=o)}else"function"==typeof define&&define.amd&&define(["require","exports","crosscall"],r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("crosscall");t.prepareClient=function(e){var t=e.CrosscallClient,o=new(void 0===t?n.Client:t)(r(e,["CrosscallClient"]));return{omniStorage:o.callable.then(function(e){return e.omniStorage}),storageEvent:o.events.then(function(e){return e.storage}),crosscallClient:o}}})},{crosscall:15}],27:[function(e,t,n){!function(r){if("object"==typeof t&&"object"==typeof t.exports){var o=r(e,n);void 0!==o&&(t.exports=o)}else"function"==typeof define&&define.amd&&define(["require","exports","crosscall","./host-storage-adapter"],r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("crosscall"),r=e("./host-storage-adapter");t.prepareHost=function(e){var t=e.origin,o=e.storage,i=e.shims,a=void 0===i?{}:i,s=a.CrosscallHost,u=void 0===s?n.Host:s,c=a.HostStorageAdapter,d=void 0===c?r.HostStorageAdapter:c,l=a.HostStorageEventMediator,f=void 0===l?r.HostStorageEventMediator:l,p=a.crosscallShims,h=a.storageEventShims;return new u({callee:{omniStorage:new d({storage:o})},events:{storage:new f({storage:o,shims:h})},permissions:[{origin:t,allowed:{omniStorage:["key","getItem","setItem","removeItem","clear","getAllEntries"]},allowedEvents:["storage"]}],shims:p})}})},{"./host-storage-adapter":23,crosscall:15}],28:[function(e,t,n){!function(){"use strict";function e(e,t){var n,r,o,i,a=P;for(i=arguments.length;i-- >2;)O.push(arguments[i]);for(t&&null!=t.children&&(O.length||O.push(t.children),delete t.children);O.length;)if((r=O.pop())&&void 0!==r.pop)for(i=r.length;i--;)O.push(r[i]);else"boolean"==typeof r&&(r=null),(o="function"!=typeof e)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(o=!1)),o&&n?a[a.length-1]+=r:a===P?a=[r]:a.push(r),n=o;var s=new function(){};return s.nodeName=e,s.children=a,s.attributes=null==t?void 0:t,s.key=null==t?void 0:t.key,void 0!==w.vnode&&w.vnode(s),s}function n(e,t){for(var n in t)e[n]=t[n];return e}function r(e){!e.__d&&(e.__d=!0)&&1==S.push(e)&&(w.debounceRendering||C)(o)}function o(){var e,t=S;for(S=[];e=t.pop();)e.__d&&g(e)}function i(e,t){return e.__n===t||e.nodeName.toLowerCase()===t.toLowerCase()}function a(e){var t=n({},e.attributes);t.children=e.children;var r=e.nodeName.defaultProps;if(void 0!==r)for(var o in r)void 0===t[o]&&(t[o]=r[o]);return t}function s(e){var t=e.parentNode;t&&t.removeChild(e)}function u(e,t,n,r,o){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||o)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(e.style[i]="");for(var i in r)e.style[i]="number"==typeof r[i]&&!1===k.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,c,a):e.removeEventListener(t,c,a),(e.__l||(e.__l={}))[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e)!function(e,t,n){try{e[t]=n}catch(e){}}(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var s=o&&t!==(t=t.replace(/^xlink:?/,""));null==r||!1===r?s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(s?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function c(e){return this.__l[e.type](w.event&&w.event(e)||e)}function d(){for(var e;e=A.pop();)w.afterMount&&w.afterMount(e),e.componentDidMount&&e.componentDidMount()}function l(e,t,n,r,o,i){x++||(I=null!=o&&void 0!==o.ownerSVGElement,T=null!=e&&!("__preactattr_"in e));var a=f(e,t,n,r,i);return o&&a.parentNode!==o&&o.appendChild(a),--x||(T=!1,i||d()),a}function f(e,t,n,r,o){var c=e,d=I;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t&&(e.nodeValue=t):(c=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(c,e),p(e,!0))),c.__preactattr_=!0,c;var l,h,v=t.nodeName;if("function"==typeof v)return function(e,t,n,r){var o=e&&e._component,i=o,s=e,u=o&&e._componentConstructor===t.nodeName,c=u,d=a(t);for(;o&&!c&&(o=o.__u);)c=o.constructor===t.nodeName;o&&c&&(!r||o._component)?(m(o,d,3,n,r),e=o.base):(i&&!u&&(b(i),e=s=null),o=y(t.nodeName,d,n),e&&!o.__b&&(o.__b=e,s=null),m(o,d,1,n,r),e=o.base,s&&e!==s&&(s._component=null,p(s,!1)));return e}(e,t,n,r);if(I="svg"===v||"foreignObject"!==v&&I,v=String(v),(!e||!i(e,v))&&(l=v,(h=I?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l)).__n=l,c=h,e)){for(;e.firstChild;)c.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(c,e),p(e,!0)}var g=c.firstChild,_=c.__preactattr_,w=t.children;if(null==_){_=c.__preactattr_={};for(var O=c.attributes,P=O.length;P--;)_[O[P].name]=O[P].value}return!T&&w&&1===w.length&&"string"==typeof w[0]&&null!=g&&void 0!==g.splitText&&null==g.nextSibling?g.nodeValue!=w[0]&&(g.nodeValue=w[0]):(w&&w.length||null!=g)&&function(e,t,n,r,o){var a,u,c,d,l,h=e.childNodes,y=[],v={},m=0,g=0,b=h.length,_=0,w=t?t.length:0;if(0!==b)for(var O=0;O<b;O++){var P=h[O],C=P.__preactattr_,k=w&&C?P._component?P._component.__k:C.key:null;null!=k?(m++,v[k]=P):(C||(void 0!==P.splitText?!o||P.nodeValue.trim():o))&&(y[_++]=P)}if(0!==w)for(var O=0;O<w;O++){d=t[O],l=null;var k=d.key;if(null!=k)m&&void 0!==v[k]&&(l=v[k],v[k]=void 0,m--);else if(!l&&g<_)for(a=g;a<_;a++)if(void 0!==y[a]&&(S=u=y[a],x=o,"string"==typeof(A=d)||"number"==typeof A?void 0!==S.splitText:"string"==typeof A.nodeName?!S._componentConstructor&&i(S,A.nodeName):x||S._componentConstructor===A.nodeName)){l=u,y[a]=void 0,a===_-1&&_--,a===g&&g++;break}l=f(l,d,n,r),c=h[O],l&&l!==e&&l!==c&&(null==c?e.appendChild(l):l===c.nextSibling?s(c):e.insertBefore(l,c))}var S,A,x;if(m)for(var O in v)void 0!==v[O]&&p(v[O],!1);for(;g<=_;)void 0!==(l=y[_--])&&p(l,!1)}(c,w,n,r,T||null!=_.dangerouslySetInnerHTML),function(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||u(e,r,n[r],n[r]=void 0,I);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||u(e,r,n[r],n[r]=t[r],I)}(c,t.attributes,_),I=d,c}function p(e,t){var n=e._component;n?b(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||s(e),h(e))}function h(e){for(e=e.lastChild;e;){var t=e.previousSibling;p(e,!0),e=t}}function y(e,t,n){var r,o=j[e.name];if(e.prototype&&e.prototype.render?(r=new e(t,n),_.call(r,t,n)):((r=new _(t,n)).constructor=e,r.render=v),o)for(var i=o.length;i--;)if(o[i].constructor===e){r.__b=o[i].__b,o.splice(i,1);break}return r}function v(e,t,n){return this.constructor(e,n)}function m(e,t,n,o,i){e.__x||(e.__x=!0,(e.__r=t.ref)&&delete t.ref,(e.__k=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o),o&&o!==e.context&&(e.__c||(e.__c=e.context),e.context=o),e.__p||(e.__p=e.props),e.props=t,e.__x=!1,0!==n&&(1!==n&&!1===w.syncComponentUpdates&&e.base?r(e):g(e,1,i)),e.__r&&e.__r(e))}function g(e,t,r,o){if(!e.__x){var i,s,u,c=e.props,f=e.state,h=e.context,v=e.__p||c,_=e.__s||f,O=e.__c||h,P=e.base,C=e.__b,k=P||C,S=e._component,I=!1;if(P&&(e.props=v,e.state=_,e.context=O,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(c,f,h)?I=!0:e.componentWillUpdate&&e.componentWillUpdate(c,f,h),e.props=c,e.state=f,e.context=h),e.__p=e.__s=e.__c=e.__b=null,e.__d=!1,!I){i=e.render(c,f,h),e.getChildContext&&(h=n(n({},h),e.getChildContext()));var T,j,E=i&&i.nodeName;if("function"==typeof E){var F=a(i);(s=S)&&s.constructor===E&&F.key==s.__k?m(s,F,1,h,!1):(T=s,e._component=s=y(E,F,h),s.__b=s.__b||C,s.__u=e,m(s,F,0,h,!1),g(s,1,r,!0)),j=s.base}else u=k,(T=S)&&(u=e._component=null),(k||1===t)&&(u&&(u._component=null),j=l(u,i,h,r||!P,k&&k.parentNode,!0));if(k&&j!==k&&s!==S){var N=k.parentNode;N&&j!==N&&(N.replaceChild(j,k),T||(k._component=null,p(k,!1)))}if(T&&b(T),e.base=j,j&&!o){for(var M=e,D=e;D=D.__u;)(M=D).base=j;j._component=M,j._componentConstructor=M.constructor}}if(!P||r?A.unshift(e):I||(e.componentDidUpdate&&e.componentDidUpdate(v,_,O),w.afterUpdate&&w.afterUpdate(e)),null!=e.__h)for(;e.__h.length;)e.__h.pop().call(e);x||o||d()}}function b(e){w.beforeUnmount&&w.beforeUnmount(e);var t=e.base;e.__x=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?b(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.__b=t,s(t),function(e){var t=e.constructor.name;(j[t]||(j[t]=[])).push(e)}(e),h(t)),e.__r&&e.__r(null)}function _(e,t){this.__d=!0,this.context=t,this.props=e,this.state=this.state||{}}var w={},O=[],P=[],C="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,k=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,S=[],A=[],x=0,I=!1,T=!1,j={};n(_.prototype,{setState:function(e,t){var o=this.state;this.__s||(this.__s=n({},o)),n(o,"function"==typeof e?e(o,this.props):e),t&&(this.__h=this.__h||[]).push(t),r(this)},forceUpdate:function(e){e&&(this.__h=this.__h||[]).push(e),g(this,2)},render:function(){}});var E={h:e,createElement:e,cloneElement:function(t,r){return e(t.nodeName,n(n({},t.attributes),r),arguments.length>2?[].slice.call(arguments,2):t.children)},Component:_,render:function(e,t,n){return l(n,e,{},!1,t,!1)},rerender:o,options:w};void 0!==t?t.exports=E:self.preact=E}()},{}],29:[function(e,t,n){var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var c,d=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?d=c.concat(d):f=-1,d.length&&h())}function h(){if(!l){var e=u(p);l=!0;for(var t=d.length;t;){for(c=d,d=[];++f<t;)c&&c[f].run();f=-1,t=d.length}c=null,l=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new y(e,t)),1!==d.length||l||u(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],30:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(" ")}function c(e){return Boolean(e)&&"[object Object]"===Object.prototype.toString.call(e.valueOf())}function d(e,t){var n=e.types[t];if(n)return n;throw new Error("No type of "+t+" found in schema")}var l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},y=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":r(t))&&"function"!=typeof t?e:t},v=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},g=function(){function e(t,n,r){l(this,e),this.name=t,this.type=n,this.defaultValue=r,Object.freeze(this)}return f(e,[{key:"toInputValueString",value:function(){return"$"+this.name}},{key:"toString",value:function(){var e=this.defaultValue?" = "+P(this.defaultValue):"";return"$"+this.name+":"+this.type+e}}]),e}();function b(e){return g.prototype.isPrototypeOf(e)}function _(e,t,n){return new g(e,t,n)}var w=function(){function e(t){l(this,e),this.key=t}return f(e,[{key:"toString",value:function(){return this.key}},{key:"valueOf",value:function(){return this.key.valueOf()}}]),e}(),O=function(){function e(t){l(this,e),this.value=t}return f(e,[{key:"toString",value:function(){return this.value.toString()}},{key:"valueOf",value:function(){return this.value.valueOf()}},{key:"unwrapped",get:function(){return this.value}}]),e}();function P(e){return g.prototype.isPrototypeOf(e)?e.toInputValueString():w.prototype.isPrototypeOf(e)?String(e):O.prototype.isPrototypeOf(e)?JSON.stringify(e.valueOf()):Array.isArray(e)?"["+u.apply(void 0,m(e.map(P)))+"]":c(e)?C(e,"{","}"):JSON.stringify(e)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=Object.keys(e).map(function(t){return t+": "+P(e[t])});return""+t+u.apply(void 0,m(r))+n}var k=function(){},S=k,A=k;function x(e){var t=k,n={},r=null;if(2===e.length)if("function"==typeof e[1]){var o=v(e,2);n=o[0],t=o[1]}else{var i=v(e,2);n=i[0],r=i[1]}else 1===e.length&&(M.prototype.isPrototypeOf(e[0])?r=e[0]:"function"==typeof e[0]?t=e[0]:n=e[0]);return{options:n,selectionSet:r,callback:t}}var I=Object.freeze({}),T=function(){function e(t,n,r){l(this,e),this.name=t,this.alias=n.alias||null,this.responseKey=this.alias||this.name,this.args=n.args?function e(t,n){return t(n)?n:c(n)?Object.freeze(Object.keys(n).reduce(function(r,o){return r[o]=e(t,n[o]),r},{})):Array.isArray(n)?Object.freeze(n.map(function(n){return e(t,n)})):n}(b,n.args):I,this.selectionSet=r,Object.freeze(this)}return f(e,[{key:"toString",value:function(){var e;return""+(this.alias?this.alias+": ":"")+this.name+(e=this.args,Object.keys(e).length?" ("+C(e)+")":"")+this.selectionSet}}]),e}(),j=function e(){l(this,e)},E=function(e){function t(e,n){l(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.typeName=e,r.selectionSet=n,Object.freeze(r),r}return h(t,j),f(t,[{key:"toString",value:function(){return"... on "+this.typeName+this.selectionSet}}]),t}(),F=function(e){function t(e){l(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name=e.name,n.selectionSet=e.selectionSet,Object.freeze(n),n}return h(t,j),f(t,[{key:"toString",value:function(){return"..."+this.name}},{key:"toDefinition",value:function(){return new N(this.name,this.selectionSet.typeSchema.name,this.selectionSet)}}]),t}(),N=function(){function e(t,n,r){l(this,e),this.name=t,this.typeName=n,this.selectionSet=r,this.spread=new F(this),Object.freeze(this)}return f(e,[{key:"toString",value:function(){return"fragment "+this.name+" on "+this.typeName+" "+this.selectionSet}}]),e}();var M=function(){function e(t,n,r){l(this,e),this.typeSchema="string"==typeof n?d(t,n):n,S(this.typeSchema.name),this.typeBundle=t,this.selections=[],r&&r(new D(this.typeBundle,this.typeSchema,this.selections)),(this.typeSchema.implementsNode||"Node"===this.typeSchema.name)&&(function e(t){return t.some(function(t){return T.prototype.isPrototypeOf(t)?"id"===t.name:!(!j.prototype.isPrototypeOf(t)||!t.selectionSet.typeSchema.implementsNode)&&e(t.selectionSet.selections)})}(this.selections)||this.selections.unshift(new T("id",{},new e(t,"ID")))),"INTERFACE"===this.typeSchema.kind&&(function e(t){return t.some(function(t){return T.prototype.isPrototypeOf(t)?"__typename"===t.name:!(!j.prototype.isPrototypeOf(t)||!t.selectionSet.typeSchema.implementsNode)&&e(t.selectionSet.selections)})}(this.selections)||this.selections.unshift(new T("__typename",{},new e(t,"String")))),this.selectionsByResponseKey=function(e){function t(e,t,n){Array.isArray(e[t])?e[t].push(n):e[t]=[n]}var n=e.reduce(function(e,n){return n.responseKey?t(e,n.responseKey,n):Object.keys(n.selectionSet.selectionsByResponseKey).forEach(function(r){t(e,r,n)}),e},{});return Object.keys(n).forEach(function(e){Object.freeze(n[e])}),Object.freeze(n)}(this.selections),Object.freeze(this.selections),Object.freeze(this)}return f(e,[{key:"toString",value:function(){return"SCALAR"===this.typeSchema.kind||"ENUM"===this.typeSchema.kind?"":" { "+u(this.selections)+" }"}}]),e}(),D=function(){function e(t,n,r){l(this,e),this.typeBundle=t,this.typeSchema=n,this.selections=r}return f(e,[{key:"hasSelectionWithResponseKey",value:function(e){return this.selections.some(function(t){return t.responseKey===e})}},{key:"add",value:function(e){var t=void 0;if("[object String]"===Object.prototype.toString.call(e)){A(this.typeSchema.name,e);for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t=this.field.apply(this,[e].concat(r))}else T.prototype.isPrototypeOf(e)&&A(this.typeSchema.name,e.name),t=e;if(t.responseKey&&this.hasSelectionWithResponseKey(t.responseKey))throw new Error("The field name or alias '"+t.responseKey+"' has already been added.");this.selections.push(t)}},{key:"field",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=x(n),i=o.options,a=o.callback,s=o.selectionSet;if(!s){if(!this.typeSchema.fieldBaseTypes[e])throw new Error('No field of name "'+e+'" found on type "'+this.typeSchema.name+'" in schema');var u=d(this.typeBundle,this.typeSchema.fieldBaseTypes[e]);s=new M(this.typeBundle,u,a)}return new T(e,i,s)}},{key:"inlineFragmentOn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,n=void 0;return n=M.prototype.isPrototypeOf(t)?t:new M(this.typeBundle,d(this.typeBundle,e),t),new E(e,n)}},{key:"addField",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.add.apply(this,[e].concat(n))}},{key:"addConnection",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=x(n),i=o.options,a=o.callback,s=o.selectionSet;this.add(e,i,function(e){e.add("pageInfo",{},function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",{},function(e){e.add("cursor"),e.addField("node",{},s||a)})})}},{key:"addInlineFragmentOn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k;this.add(this.inlineFragmentOn(e,t))}},{key:"addFragment",value:function(e){this.add(e)}}]),e}();var B=function(){function e(t){l(this,e),this.variableDefinitions=t?[].concat(m(t)):[],Object.freeze(this.variableDefinitions),Object.freeze(this)}return f(e,[{key:"toString",value:function(){return 0===this.variableDefinitions.length?"":" ("+u(this.variableDefinitions)+") "}}]),e}(),L=function(){function e(t,n){l(this,e);for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=function(e){var t=void 0,n=void 0,r=void 0;if(3===e.length){var o=v(e,3);t=o[0],n=o[1],r=o[2]}else 2===e.length?("[object String]"===Object.prototype.toString.call(e[0])?(t=e[0],n=null):Array.isArray(e[0])&&(n=e[0],t=null),r=e[1]):(r=e[0],t=null);return{name:t,variables:n,selectionSetCallback:r}}(o),s=a.name,u=a.variables,c=a.selectionSetCallback;this.typeBundle=t,this.name=s,this.variableDefinitions=new B(u),this.operationType=n,"query"===n?(this.selectionSet=new M(t,t.queryType,c),this.typeSchema=d(t,t.queryType)):(this.selectionSet=new M(t,t.mutationType,c),this.typeSchema=d(t,t.mutationType)),Object.freeze(this)}return f(e,[{key:"toString",value:function(){var e=this.name?" "+this.name:"";return""+this.operationType+e+this.variableDefinitions+this.selectionSet}},{key:"isAnonymous",get:function(){return!this.name}}]),e}(),R=function(e){function t(e){var n;l(this,t);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return y(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e,"query"].concat(o)))}return h(t,L),t}(),U=function(e){function t(e){var n;l(this,t);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return y(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e,"mutation"].concat(o)))}return h(t,L),t}();function V(e){return e.isAnonymous}function q(e){return 1!==e.length&&(function(e){return e.some(V)}(e)||function(e){var t=e.map(function(e){return e.name});return t.reduce(function(e,n,r){return e||t.indexOf(n)!==r},!1)}(e))}var Q=function(){function e(t){l(this,e),this.typeBundle=t,this.definitions=[]}return f(e,[{key:"toString",value:function(){return u(this.definitions)}},{key:"addOperation",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return L.prototype.isPrototypeOf(r[0])?r[0]:"query"===t?new(Function.prototype.bind.apply(R,[null].concat([e],r))):new(Function.prototype.bind.apply(U,[null].concat([e],r)))}.apply(void 0,[this.typeBundle,e].concat(n));if(q(this.operations.concat(o)))throw new Error("All operations must be uniquely named on a multi-operation document");this.definitions.push(o)}},{key:"addQuery",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.addOperation.apply(this,["query"].concat(t))}},{key:"addMutation",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.addOperation.apply(this,["mutation"].concat(t))}},{key:"defineFragment",value:function(e,t,n){if(function(e,t){return e.some(function(e){return e.name===t})}(this.fragmentDefinitions,e))throw new Error("All fragments must be uniquely named on a multi-fragment document");var r=new M(this.typeBundle,t,n),o=new N(e,t,r);return this.definitions.push(o),o.spread}},{key:"operations",get:function(){return this.definitions.filter(function(e){return L.prototype.isPrototypeOf(e)})}},{key:"fragmentDefinitions",get:function(){return this.definitions.filter(function(e){return N.prototype.isPrototypeOf(e)})}}]),e}(),H=function e(t){var n=this;l(this,e),Object.defineProperty(this,"attrs",{value:t,enumerable:!1}),Object.keys(this.attrs).filter(function(e){return!(e in n)}).forEach(function(e){var r=void 0;r=null===t[e]?{enumerable:!0,get:function(){return null}}:{enumerable:!0,get:function(){return this.attrs[e].valueOf()}},Object.defineProperty(n,e,r)})},W=function(){function e(){l(this,e),this.classStore={}}return f(e,[{key:"registerClassForType",value:function(e,t){this.classStore[t]=e}},{key:"unregisterClassForType",value:function(e){delete this.classStore[e]}},{key:"classForType",value:function(e){return this.classStore[e]||H}}]),e}();function K(e){return"[object Null]"!==Object.prototype.toString.call(e)&&"[object Undefined]"!==Object.prototype.toString.call(e)}function z(e){return e.selection.selectionSet.typeSchema.implementsNode}function J(e,t){var n=t[t.length-1],r=n.selection.args.first,o=Object.keys(n.selection.args).filter(function(e){return b(n.selection.args[e])}).map(function(e){return n.selection.args[e]}),i=o.find(function(e){return"first"===e.name});return i||(i=_("first","Int",r),o.push(i)),[new Q(e.selection.selectionSet.typeBundle),o,i]}function G(e,t,n,r){var o=t.shift();if(n.push(o.selection.responseKey),t.length)e.add(o.selection.name,{alias:o.selection.alias,args:o.selection.args},function(e){G(e,t,n,r)});else{var i=o.selection.selectionSet.selections.find(function(e){return"edges"===e.name}).selectionSet.selections.find(function(e){return"node"===e.name}),a=void 0;a=b(o.selection.args.first)?o.selection.args.first:_("first","Int",o.selection.args.first);var s={alias:o.selection.alias,args:Object.assign({},o.selection.args,{after:r,first:a})};e.addConnection(o.selection.name,s,i.selectionSet)}}function X(e){return e.reduce(function(e,t){return F.prototype.isPrototypeOf(t)&&e.push(t.toDefinition()),e.push.apply(e,m(X(t.selectionSet.selections))),e},[])}function $(e,t){var n=function e(t){return null==t?null:z(t)?t:e(t.parent)}(e);return n?function(){var r,o=[],i=n.selection.selectionSet.typeSchema,a=n.responseData.id,s=function e(t){return t.selection.selectionSet.typeSchema.implementsNode?[t]:e(t.parent).concat(t)}(e),u=J(e,s),c=v(u,2),d=c[0],l=c[1];d.addQuery(l,function(e){o.push("node"),e.add("node",{args:{id:a}},function(e){e.addInlineFragmentOn(i.name,function(e){G(e,s.slice(1),o,t)})})});var f=X(d.operations[0].selectionSet.selections);return(r=d.definitions).unshift.apply(r,m(f)),[d,o]}:function(){var n,r=[],o=function e(t){return t.parent?e(t.parent).concat(t):[t]}(e),i=J(e,o),a=v(i,2),s=a[0],u=a[1];s.addQuery(u,function(e){G(e,o.slice(1),r,t)});var c=X(s.operations[0].selectionSet.selections);return(n=s.definitions).unshift.apply(n,m(c)),[s,r]}}function Y(e){return function(t,n){if(function(e){return e.selection.selectionSet.typeSchema.name.endsWith("Connection")}(t)){if(!(n.pageInfo&&n.pageInfo.hasOwnProperty("hasNextPage")&&n.pageInfo.hasOwnProperty("hasPreviousPage")))throw new Error('Connections must include the selections "pageInfo { hasNextPage, hasPreviousPage }".');return n.edges.map(function(r){return Object.assign(r.node,{nextPageQueryAndPath:$(t,r.cursor),hasNextPage:function(e,t){return t!==e.edges[e.edges.length-1]?new O(!0):e.pageInfo.hasNextPage}(n,r),hasPreviousPage:function(e,t){return t!==e.edges[0]?new O(!0):e.pageInfo.hasPreviousPage}(n,r),variableValues:e})})}return n}}var Z=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l(this,e),this.selection=t,this.responseData=n,this.parent=r,Object.freeze(this)}return f(e,[{key:"contextForObjectProperty",value:function(t){var n=this.selection.selectionSet.selectionsByResponseKey[t],r=n&&n[0],o=void 0;if(o=j.prototype.isPrototypeOf(r)?new e(r,this.responseData,this.parent):new e(r,this.responseData[t],this),!r)throw new Error('Unexpected response key "'+t+'", not found in selection set: '+this.selection.selectionSet);return T.prototype.isPrototypeOf(r)?o:o.contextForObjectProperty(t)}},{key:"contextForArrayItem",value:function(t){return new e(this.selection,t,this.parent)}}]),e}();function ee(e,t){var n=e.responseData;return Array.isArray(n)?n=function(e,t){return e.responseData.map(function(n){return ee(e.contextForArrayItem(n),t)})}(e,t):c(n)&&(n=function(e,t){return Object.keys(e.responseData).reduce(function(n,r){return n[r]=ee(e.contextForObjectProperty(r),t),n},{})}(e,t)),function(e,t,n){return e.reduce(function(e,n){return n(t,e)},n)}(t,e,n)}function te(e,t){return K(t)&&z(e)&&(t.refetchQuery=function(){return new R(e.selection.selectionSet.typeBundle,function(t){t.add("node",{args:{id:e.responseData.id}},function(t){t.addInlineFragmentOn(e.selection.selectionSet.typeSchema.name,e.selection.selectionSet)})})}),t}function ne(e,t){if(K(t)){if("SCALAR"===e.selection.selectionSet.typeSchema.kind)return new O(t);if("ENUM"===e.selection.selectionSet.typeSchema.kind)return new w(t)}return t}function re(e,t){return K(t)&&(t.__typename?t.type=d(e.selection.selectionSet.typeBundle,t.__typename):t.type=e.selection.selectionSet.typeSchema),t}function oe(e){var t=e.classRegistry,n=void 0===t?new W:t;return[ne,te,Y(e.variableValues),re,function(e){return function(t,n){return c(n)?new(e.classForType(t.selection.selectionSet.typeSchema.name))(n):n}}(n)]}var ie=function(){function e(t,n){var r=n.url,o=n.fetcherOptions,i=n.fetcher,a=n.registry,s=void 0===a?new W:a;if(l(this,e),this.typeBundle=t,this.classRegistry=s,r&&i)throw new Error("Arguments not supported: supply either `url` and optional `fetcherOptions` OR use a `fetcher` function for further customization.");if(r)this.fetcher=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){return fetch(e,p({body:JSON.stringify(n),method:"POST",mode:"cors"},t,{headers:p({"Content-Type":"application/json",Accept:"application/json"},t.headers)})).then(function(e){return e.json()})}}(r,o);else{if(!i)throw new Error("Invalid arguments: one of `url` or `fetcher` is needed.");if(o)throw new Error("Arguments not supported: when specifying your own `fetcher`, set options through it and not with `fetcherOptions`");this.fetcher=i}}return f(e,[{key:"document",value:function(){return new Q(this.typeBundle)}},{key:"query",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new(Function.prototype.bind.apply(R,[null].concat([this.typeBundle],t)))}},{key:"mutation",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new(Function.prototype.bind.apply(U,[null].concat([this.typeBundle],t)))}},{key:"send",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=void 0,i={query:(o=Function.prototype.isPrototypeOf(e)?e(this):e).toString()};n&&(i.variables=n),Object.assign(i,r);var a=void 0;if(L.prototype.isPrototypeOf(o))a=o;else{var s=o;if(1===s.operations.length)a=s.operations[0];else{if(!r.operationName)throw new Error("\n          A document must contain exactly one operation, or an operationName\n          must be specified. Example:\n\n            client.send(document, null, {operationName: 'myFancyQuery'});\n        ");a=s.operations.find(function(e){return e.name===r.operationName})}}return this.fetcher(i).then(function(e){return e.data&&(e.model=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.transformers||oe(n);return ee(new Z(e,t),r)}(a,e.data,{classRegistry:t.classRegistry,variableValues:n})),e})}},{key:"fetchNextPage",value:function(e,t){var n=void 0,r=(n=Array.isArray(e)?e[e.length-1]:e).nextPageQueryAndPath(),o=v(r,2),i=o[0],a=o[1],s=void 0;return(n.variableValues||t)&&(s=Object.assign({},n.variableValues,t)),this.send(i,s).then(function(e){return e.model=a.reduce(function(e,t){return e[t]},e.model),e})}},{key:"fetchAllPages",value:function(e,t){var n=this,r=t.pageSize;return function(e){return e&&e.length&&e[e.length-1].hasNextPage}(e)?this.fetchNextPage(e,{first:r}).then(function(t){var o=t.model,i=e.concat(o);return n.fetchAllPages(i,{pageSize:r})}):Promise.resolve(e)}},{key:"refetch",value:function(e){if(!e)throw new Error("'client#refetch' must be called with a non-null instance of a Node.");if(!e.type.implementsNode)throw new Error("'client#refetch' must be called with a type that implements Node. Received "+e.type.name+".");return this.send(e.refetchQuery()).then(function(e){return e.model.node})}},{key:"variable",value:function(e,t,n){return _(e,t,n)}},{key:"enum",value:function(e){return function(e){return new w(e)}(e)}}]),e}(),ae=function(){function e(t){var n=this;o(this,e),Object.keys(this.deprecatedProperties).forEach(function(e){t.hasOwnProperty(e)&&(console.warn("[ShopifyBuy] Config property "+e+" is deprecated as of v1.0, please use "+n.deprecatedProperties[e]+" instead."),t[n.deprecatedProperties[e]]=t[e])}),this.requiredProperties.forEach(function(e){if(!t.hasOwnProperty(e))throw new Error("new Config() requires the option '"+e+"'");n[e]=t[e]})}return i(e,[{key:"requiredProperties",get:function(){return["storefrontAccessToken","domain"]}},{key:"deprecatedProperties",get:function(){return{accessToken:"storefrontAccessToken",apiKey:"storefrontAccessToken"}}}]),e}(),se=function e(t){o(this,e),this.graphQLClient=t},ue=[{message:"an unknown error has occured."}];function ce(e){var t=e.split(".");return function(e){var n=e.model,r=e.errors;return new Promise(function(e,o){try{e(t.reduce(function(e,t){return e[t]},n))}catch(e){o(r||ue)}})}}function de(e,t){var n=[].concat(e);return Promise.all(n.reduce(function(e,n){return e.push(t.fetchAllPages(n.images,{pageSize:250}).then(function(e){n.attrs.images=e})),e.push(t.fetchAllPages(n.variants,{pageSize:250}).then(function(e){n.attrs.variants=e})),e},[]))}function le(e){return function(t){return de(t,e).then(function(){return t})}}function fe(e){return function(t){var n=[].concat(t);return Promise.all(n.reduce(function(t,n){return t.concat(de(n.products,e))},[])).then(function(){return t})}}var pe={variantForOptions:function(e,t){return e.variants.find(function(e){return e.selectedOptions.every(function(e){return t[e.name]===e.value.valueOf()})})}};function he(e){var t=e.document(),n={},r={__defaultOperation__:{}};return r.__defaultOperation__.id=e.variable("id","ID!"),n.VariantFragment=t.defineFragment("VariantFragment","ProductVariant",function(e){e.add("id"),e.add("title"),e.add("price"),e.add("weight"),e.add("available"),e.add("sku"),e.add("compareAtPrice"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")}),e.add("selectedOptions",function(e){e.add("name"),e.add("value")})}),n.ProductFragment=t.defineFragment("ProductFragment","Product",function(e){e.add("id"),e.add("createdAt"),e.add("updatedAt"),e.add("descriptionHtml"),e.add("description"),e.add("handle"),e.add("productType"),e.add("title"),e.add("vendor"),e.add("tags"),e.add("publishedAt"),e.add("onlineStoreUrl"),e.add("options",function(e){e.add("name"),e.add("values")}),e.add("images",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("id"),e.add("src"),e.add("altText")})})}),e.add("variants",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.addFragment(n.VariantFragment)})})})}),t.addQuery([r.__defaultOperation__.id],function(e){e.add("node",{args:{id:r.__defaultOperation__.id}},function(e){e.addFragment(n.ProductFragment)})}),t}function ye(e){var t=e.document(),n={},r={__defaultOperation__:{}};return r.__defaultOperation__.ids=e.variable("ids","[ID!]!"),n.VariantFragment=t.defineFragment("VariantFragment","ProductVariant",function(e){e.add("id"),e.add("title"),e.add("price"),e.add("weight"),e.add("available"),e.add("sku"),e.add("compareAtPrice"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")}),e.add("selectedOptions",function(e){e.add("name"),e.add("value")})}),n.ProductFragment=t.defineFragment("ProductFragment","Product",function(e){e.add("id"),e.add("createdAt"),e.add("updatedAt"),e.add("descriptionHtml"),e.add("description"),e.add("handle"),e.add("productType"),e.add("title"),e.add("vendor"),e.add("tags"),e.add("publishedAt"),e.add("onlineStoreUrl"),e.add("options",function(e){e.add("name"),e.add("values")}),e.add("images",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("id"),e.add("src"),e.add("altText")})})}),e.add("variants",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.addFragment(n.VariantFragment)})})})}),t.addQuery([r.__defaultOperation__.ids],function(e){e.add("nodes",{args:{ids:r.__defaultOperation__.ids}},function(e){e.addFragment(n.ProductFragment)})}),t}function ve(e){var t=e.document(),n={},r={__defaultOperation__:{}};return r.__defaultOperation__.first=e.variable("first","Int!"),r.__defaultOperation__.query=e.variable("query","String"),r.__defaultOperation__.sortKey=e.variable("sortKey","ProductSortKeys"),r.__defaultOperation__.reverse=e.variable("reverse","Boolean"),n.VariantFragment=t.defineFragment("VariantFragment","ProductVariant",function(e){e.add("id"),e.add("title"),e.add("price"),e.add("weight"),e.add("available"),e.add("sku"),e.add("compareAtPrice"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")}),e.add("selectedOptions",function(e){e.add("name"),e.add("value")})}),n.ProductFragment=t.defineFragment("ProductFragment","Product",function(e){e.add("id"),e.add("createdAt"),e.add("updatedAt"),e.add("descriptionHtml"),e.add("description"),e.add("handle"),e.add("productType"),e.add("title"),e.add("vendor"),e.add("tags"),e.add("publishedAt"),e.add("onlineStoreUrl"),e.add("options",function(e){e.add("name"),e.add("values")}),e.add("images",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("id"),e.add("src"),e.add("altText")})})}),e.add("variants",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.addFragment(n.VariantFragment)})})})}),t.addQuery([r.__defaultOperation__.first,r.__defaultOperation__.query,r.__defaultOperation__.sortKey,r.__defaultOperation__.reverse],function(e){e.add("shop",function(e){e.add("products",{args:{first:r.__defaultOperation__.first,query:r.__defaultOperation__.query,sortKey:r.__defaultOperation__.sortKey,reverse:r.__defaultOperation__.reverse}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.addFragment(n.ProductFragment)})})})})}),t}function me(e){var t=e.document(),n={},r={__defaultOperation__:{}};return r.__defaultOperation__.handle=e.variable("handle","String!"),n.VariantFragment=t.defineFragment("VariantFragment","ProductVariant",function(e){e.add("id"),e.add("title"),e.add("price"),e.add("weight"),e.add("available"),e.add("sku"),e.add("compareAtPrice"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")}),e.add("selectedOptions",function(e){e.add("name"),e.add("value")})}),n.ProductFragment=t.defineFragment("ProductFragment","Product",function(e){e.add("id"),e.add("createdAt"),e.add("updatedAt"),e.add("descriptionHtml"),e.add("description"),e.add("handle"),e.add("productType"),e.add("title"),e.add("vendor"),e.add("tags"),e.add("publishedAt"),e.add("onlineStoreUrl"),e.add("options",function(e){e.add("name"),e.add("values")}),e.add("images",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("id"),e.add("src"),e.add("altText")})})}),e.add("variants",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.addFragment(n.VariantFragment)})})})}),t.addQuery([r.__defaultOperation__.handle],function(e){e.add("shop",function(e){e.add("productByHandle",{args:{handle:r.__defaultOperation__.handle}},function(e){e.addFragment(n.ProductFragment)})})}),t}var ge=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,se),i(t,[{key:"fetchAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this.graphQLClient.send(ve,{first:e}).then(ce("shop.products")).then(le(this.graphQLClient))}},{key:"fetch",value:function(e){return this.graphQLClient.send(he,{id:e}).then(ce("node")).then(le(this.graphQLClient))}},{key:"fetchMultiple",value:function(e){return this.graphQLClient.send(ye,{ids:e}).then(ce("nodes")).then(le(this.graphQLClient))}},{key:"fetchByHandle",value:function(e){return this.graphQLClient.send(me,{handle:e}).then(ce("shop.productByHandle")).then(le(this.graphQLClient))}},{key:"fetchQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.first,n=void 0===t?20:t,r=e.sortKey,o=void 0===r?"ID":r,i=e.query,a=e.reverse;return this.graphQLClient.send(ve,{first:n,sortKey:o,query:i,reverse:a}).then(ce("shop.products")).then(le(this.graphQLClient))}},{key:"helpers",get:function(){return pe}}]),t}();function be(e){var t=e.document(),n={},r={__defaultOperation__:{}};return r.__defaultOperation__.id=e.variable("id","ID!"),n.CollectionFragment=t.defineFragment("CollectionFragment","Collection",function(e){e.add("id"),e.add("handle"),e.add("description"),e.add("descriptionHtml"),e.add("updatedAt"),e.add("title"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")})}),t.addQuery([r.__defaultOperation__.id],function(e){e.add("node",{args:{id:r.__defaultOperation__.id}},function(e){e.addFragment(n.CollectionFragment)})}),t}function _e(e){var t=e.document(),n={},r={__defaultOperation__:{}};return r.__defaultOperation__.id=e.variable("id","ID!"),n.VariantFragment=t.defineFragment("VariantFragment","ProductVariant",function(e){e.add("id"),e.add("title"),e.add("price"),e.add("weight"),e.add("available"),e.add("sku"),e.add("compareAtPrice"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")}),e.add("selectedOptions",function(e){e.add("name"),e.add("value")})}),n.ProductFragment=t.defineFragment("ProductFragment","Product",function(e){e.add("id"),e.add("createdAt"),e.add("updatedAt"),e.add("descriptionHtml"),e.add("description"),e.add("handle"),e.add("productType"),e.add("title"),e.add("vendor"),e.add("tags"),e.add("publishedAt"),e.add("onlineStoreUrl"),e.add("options",function(e){e.add("name"),e.add("values")}),e.add("images",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("id"),e.add("src"),e.add("altText")})})}),e.add("variants",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.addFragment(n.VariantFragment)})})})}),n.CollectionFragment=t.defineFragment("CollectionFragment","Collection",function(e){e.add("id"),e.add("handle"),e.add("description"),e.add("descriptionHtml"),e.add("updatedAt"),e.add("title"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")})}),n.CollectionsProductsFragment=t.defineFragment("CollectionsProductsFragment","Collection",function(e){e.add("products",{args:{first:20}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.addFragment(n.ProductFragment)})})})}),t.addQuery([r.__defaultOperation__.id],function(e){e.add("node",{args:{id:r.__defaultOperation__.id}},function(e){e.addFragment(n.CollectionFragment),e.addFragment(n.CollectionsProductsFragment)})}),t}function we(e){var t=e.document(),n={},r={__defaultOperation__:{}};return r.__defaultOperation__.first=e.variable("first","Int!"),r.__defaultOperation__.query=e.variable("query","String"),r.__defaultOperation__.sortKey=e.variable("sortKey","CollectionSortKeys"),r.__defaultOperation__.reverse=e.variable("reverse","Boolean"),n.CollectionFragment=t.defineFragment("CollectionFragment","Collection",function(e){e.add("id"),e.add("handle"),e.add("description"),e.add("descriptionHtml"),e.add("updatedAt"),e.add("title"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")})}),t.addQuery([r.__defaultOperation__.first,r.__defaultOperation__.query,r.__defaultOperation__.sortKey,r.__defaultOperation__.reverse],function(e){e.add("shop",function(e){e.add("collections",{args:{first:r.__defaultOperation__.first,query:r.__defaultOperation__.query,sortKey:r.__defaultOperation__.sortKey,reverse:r.__defaultOperation__.reverse}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.addFragment(n.CollectionFragment)})})})})}),t}function Oe(e){var t=e.document(),n={},r={__defaultOperation__:{}};return r.__defaultOperation__.first=e.variable("first","Int!"),r.__defaultOperation__.query=e.variable("query","String"),r.__defaultOperation__.sortKey=e.variable("sortKey","CollectionSortKeys"),r.__defaultOperation__.reverse=e.variable("reverse","Boolean"),r.__defaultOperation__.productsFirst=e.variable("productsFirst","Int!"),n.VariantFragment=t.defineFragment("VariantFragment","ProductVariant",function(e){e.add("id"),e.add("title"),e.add("price"),e.add("weight"),e.add("available"),e.add("sku"),e.add("compareAtPrice"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")}),e.add("selectedOptions",function(e){e.add("name"),e.add("value")})}),n.CollectionFragment=t.defineFragment("CollectionFragment","Collection",function(e){e.add("id"),e.add("handle"),e.add("description"),e.add("descriptionHtml"),e.add("updatedAt"),e.add("title"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")})}),n.ProductFragment=t.defineFragment("ProductFragment","Product",function(e){e.add("id"),e.add("createdAt"),e.add("updatedAt"),e.add("descriptionHtml"),e.add("description"),e.add("handle"),e.add("productType"),e.add("title"),e.add("vendor"),e.add("tags"),e.add("publishedAt"),e.add("onlineStoreUrl"),e.add("options",function(e){e.add("name"),e.add("values")}),e.add("images",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("id"),e.add("src"),e.add("altText")})})}),e.add("variants",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.addFragment(n.VariantFragment)})})})}),t.addQuery([r.__defaultOperation__.first,r.__defaultOperation__.query,r.__defaultOperation__.sortKey,r.__defaultOperation__.reverse,r.__defaultOperation__.productsFirst],function(e){e.add("shop",function(e){e.add("collections",{args:{first:r.__defaultOperation__.first,query:r.__defaultOperation__.query,sortKey:r.__defaultOperation__.sortKey,reverse:r.__defaultOperation__.reverse}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.addFragment(n.CollectionFragment),e.add("products",{args:{first:r.__defaultOperation__.productsFirst}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.addFragment(n.ProductFragment)})})})})})})})}),t}function Pe(e){var t=e.document(),n={},r={__defaultOperation__:{}};return r.__defaultOperation__.handle=e.variable("handle","String!"),n.VariantFragment=t.defineFragment("VariantFragment","ProductVariant",function(e){e.add("id"),e.add("title"),e.add("price"),e.add("weight"),e.add("available"),e.add("sku"),e.add("compareAtPrice"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")}),e.add("selectedOptions",function(e){e.add("name"),e.add("value")})}),n.ProductFragment=t.defineFragment("ProductFragment","Product",function(e){e.add("id"),e.add("createdAt"),e.add("updatedAt"),e.add("descriptionHtml"),e.add("description"),e.add("handle"),e.add("productType"),e.add("title"),e.add("vendor"),e.add("tags"),e.add("publishedAt"),e.add("onlineStoreUrl"),e.add("options",function(e){e.add("name"),e.add("values")}),e.add("images",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("id"),e.add("src"),e.add("altText")})})}),e.add("variants",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.addFragment(n.VariantFragment)})})})}),n.CollectionFragment=t.defineFragment("CollectionFragment","Collection",function(e){e.add("id"),e.add("handle"),e.add("description"),e.add("descriptionHtml"),e.add("updatedAt"),e.add("title"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")})}),n.CollectionsProductsFragment=t.defineFragment("CollectionsProductsFragment","Collection",function(e){e.add("products",{args:{first:20}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.addFragment(n.ProductFragment)})})})}),t.addQuery([r.__defaultOperation__.handle],function(e){e.add("shop",function(e){e.add("collectionByHandle",{args:{handle:r.__defaultOperation__.handle}},function(e){e.addFragment(n.CollectionFragment),e.addFragment(n.CollectionsProductsFragment)})})}),t}var Ce=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,se),i(t,[{key:"fetchAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this.graphQLClient.send(we,{first:e}).then(ce("shop.collections"))}},{key:"fetchAllWithProducts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.first,n=void 0===t?20:t,r=e.productsFirst,o=void 0===r?20:r;return this.graphQLClient.send(Oe,{first:n,productsFirst:o}).then(ce("shop.collections")).then(fe(this.graphQLClient))}},{key:"fetch",value:function(e){return this.graphQLClient.send(be,{id:e}).then(ce("node"))}},{key:"fetchWithProducts",value:function(e){return this.graphQLClient.send(_e,{id:e}).then(ce("node")).then(fe(this.graphQLClient))}},{key:"fetchByHandle",value:function(e){return this.graphQLClient.send(Pe,{handle:e}).then(ce("shop.collectionByHandle"))}},{key:"fetchQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.first,n=void 0===t?20:t,r=e.sortKey,o=void 0===r?"ID":r,i=e.query,a=e.reverse;return this.graphQLClient.send(we,{first:n,sortKey:o,query:i,reverse:a}).then(ce("shop.collections"))}}]),t}();function ke(e){var t=e.document();return t.addQuery(function(e){e.add("shop",function(e){e.add("currencyCode"),e.add("description"),e.add("moneyFormat"),e.add("name"),e.add("primaryDomain",function(e){e.add("host"),e.add("sslEnabled"),e.add("url")})})}),t}function Se(e){var t=e.document(),n={};return n.PolicyFragment=t.defineFragment("PolicyFragment","ShopPolicy",function(e){e.add("id"),e.add("title"),e.add("url"),e.add("body")}),t.addQuery(function(e){e.add("shop",function(e){e.add("privacyPolicy",function(e){e.addFragment(n.PolicyFragment)}),e.add("termsOfService",function(e){e.addFragment(n.PolicyFragment)}),e.add("refundPolicy",function(e){e.addFragment(n.PolicyFragment)})})}),t}var Ae=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,se),i(t,[{key:"fetchInfo",value:function(){return this.graphQLClient.send(ke).then(ce("shop"))}},{key:"fetchPolicies",value:function(){return this.graphQLClient.send(Se).then(ce("shop"))}}]),t}();function xe(e,t){return function(n){var r=n.data,o=n.errors,i=n.model,a=r[e],s=i[e];return a&&a.checkout?t.fetchAllPages(s.checkout.lineItems,{pageSize:250}).then(function(e){return s.checkout.attrs.lineItems=e,s.checkout.errors=o,s.checkout.userErrors=s.userErrors,s.checkout}):o&&o.length?Promise.reject(new Error(JSON.stringify(o))):a&&a.userErrors&&a.userErrors.length?Promise.reject(new Error(JSON.stringify(a.userErrors))):Promise.reject(new Error("The "+e+" mutation failed due to an unknown error."))}}function Ie(e){var t=e.document(),n={},r={__defaultOperation__:{}};return r.__defaultOperation__.id=e.variable("id","ID!"),n.VariantFragment=t.defineFragment("VariantFragment","ProductVariant",function(e){e.add("id"),e.add("title"),e.add("price"),e.add("weight"),e.add("available"),e.add("sku"),e.add("compareAtPrice"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")}),e.add("selectedOptions",function(e){e.add("name"),e.add("value")})}),n.VariantWithProductFragment=t.defineFragment("VariantWithProductFragment","ProductVariant",function(e){e.addFragment(n.VariantFragment),e.add("product",function(e){e.add("id")})}),n.MailingAddressFragment=t.defineFragment("MailingAddressFragment","MailingAddress",function(e){e.add("id"),e.add("address1"),e.add("address2"),e.add("city"),e.add("company"),e.add("country"),e.add("firstName"),e.add("formatted"),e.add("lastName"),e.add("latitude"),e.add("longitude"),e.add("phone"),e.add("province"),e.add("zip"),e.add("name"),e.add("countryCode"),e.add("provinceCode")}),n.CheckoutFragment=t.defineFragment("CheckoutFragment","Checkout",function(e){e.add("id"),e.add("ready"),e.add("requiresShipping"),e.add("note"),e.add("paymentDue"),e.add("webUrl"),e.add("orderStatusUrl"),e.add("taxExempt"),e.add("taxesIncluded"),e.add("currencyCode"),e.add("totalTax"),e.add("subtotalPrice"),e.add("totalPrice"),e.add("completedAt"),e.add("createdAt"),e.add("updatedAt"),e.add("shippingAddress",function(e){e.addFragment(n.MailingAddressFragment)}),e.add("shippingLine",function(e){e.add("handle"),e.add("price"),e.add("title")}),e.add("customAttributes",function(e){e.add("key"),e.add("value")}),e.add("order",function(e){e.add("id"),e.add("processedAt"),e.add("orderNumber"),e.add("subtotalPrice"),e.add("totalShippingPrice"),e.add("totalTax"),e.add("totalPrice"),e.add("currencyCode"),e.add("totalRefunded"),e.add("customerUrl"),e.add("shippingAddress",function(e){e.addFragment(n.MailingAddressFragment)}),e.add("lineItems",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("title"),e.add("variant",function(e){e.addFragment(n.VariantWithProductFragment)}),e.add("quantity"),e.add("customAttributes",function(e){e.add("key"),e.add("value")})})})})}),e.add("lineItems",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("id"),e.add("title"),e.add("variant",function(e){e.addFragment(n.VariantWithProductFragment)}),e.add("quantity"),e.add("customAttributes",function(e){e.add("key"),e.add("value")})})})})}),t.addQuery([r.__defaultOperation__.id],function(e){e.add("node",{args:{id:r.__defaultOperation__.id}},function(e){e.addFragment(n.CheckoutFragment)})}),t}function Te(e){var t=e.document(),n={},r={__defaultOperation__:{}};return r.__defaultOperation__.input=e.variable("input","CheckoutCreateInput!"),n.VariantFragment=t.defineFragment("VariantFragment","ProductVariant",function(e){e.add("id"),e.add("title"),e.add("price"),e.add("weight"),e.add("available"),e.add("sku"),e.add("compareAtPrice"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")}),e.add("selectedOptions",function(e){e.add("name"),e.add("value")})}),n.VariantWithProductFragment=t.defineFragment("VariantWithProductFragment","ProductVariant",function(e){e.addFragment(n.VariantFragment),e.add("product",function(e){e.add("id")})}),n.UserErrorFragment=t.defineFragment("UserErrorFragment","UserError",function(e){e.add("field"),e.add("message")}),n.MailingAddressFragment=t.defineFragment("MailingAddressFragment","MailingAddress",function(e){e.add("id"),e.add("address1"),e.add("address2"),e.add("city"),e.add("company"),e.add("country"),e.add("firstName"),e.add("formatted"),e.add("lastName"),e.add("latitude"),e.add("longitude"),e.add("phone"),e.add("province"),e.add("zip"),e.add("name"),e.add("countryCode"),e.add("provinceCode")}),n.CheckoutFragment=t.defineFragment("CheckoutFragment","Checkout",function(e){e.add("id"),e.add("ready"),e.add("requiresShipping"),e.add("note"),e.add("paymentDue"),e.add("webUrl"),e.add("orderStatusUrl"),e.add("taxExempt"),e.add("taxesIncluded"),e.add("currencyCode"),e.add("totalTax"),e.add("subtotalPrice"),e.add("totalPrice"),e.add("completedAt"),e.add("createdAt"),e.add("updatedAt"),e.add("shippingAddress",function(e){e.addFragment(n.MailingAddressFragment)}),e.add("shippingLine",function(e){e.add("handle"),e.add("price"),e.add("title")}),e.add("customAttributes",function(e){e.add("key"),e.add("value")}),e.add("order",function(e){e.add("id"),e.add("processedAt"),e.add("orderNumber"),e.add("subtotalPrice"),e.add("totalShippingPrice"),e.add("totalTax"),e.add("totalPrice"),e.add("currencyCode"),e.add("totalRefunded"),e.add("customerUrl"),e.add("shippingAddress",function(e){e.addFragment(n.MailingAddressFragment)}),e.add("lineItems",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("title"),e.add("variant",function(e){e.addFragment(n.VariantWithProductFragment)}),e.add("quantity"),e.add("customAttributes",function(e){e.add("key"),e.add("value")})})})})}),e.add("lineItems",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("id"),e.add("title"),e.add("variant",function(e){e.addFragment(n.VariantWithProductFragment)}),e.add("quantity"),e.add("customAttributes",function(e){e.add("key"),e.add("value")})})})})}),t.addMutation([r.__defaultOperation__.input],function(e){e.add("checkoutCreate",{args:{input:r.__defaultOperation__.input}},function(e){e.add("userErrors",function(e){e.addFragment(n.UserErrorFragment)}),e.add("checkout",function(e){e.addFragment(n.CheckoutFragment)})})}),t}function je(e){var t=e.document(),n={},r={__defaultOperation__:{}};return r.__defaultOperation__.checkoutId=e.variable("checkoutId","ID!"),r.__defaultOperation__.lineItems=e.variable("lineItems","[CheckoutLineItemInput!]!"),n.VariantFragment=t.defineFragment("VariantFragment","ProductVariant",function(e){e.add("id"),e.add("title"),e.add("price"),e.add("weight"),e.add("available"),e.add("sku"),e.add("compareAtPrice"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")}),e.add("selectedOptions",function(e){e.add("name"),e.add("value")})}),n.VariantWithProductFragment=t.defineFragment("VariantWithProductFragment","ProductVariant",function(e){e.addFragment(n.VariantFragment),e.add("product",function(e){e.add("id")})}),n.UserErrorFragment=t.defineFragment("UserErrorFragment","UserError",function(e){e.add("field"),e.add("message")}),n.MailingAddressFragment=t.defineFragment("MailingAddressFragment","MailingAddress",function(e){e.add("id"),e.add("address1"),e.add("address2"),e.add("city"),e.add("company"),e.add("country"),e.add("firstName"),e.add("formatted"),e.add("lastName"),e.add("latitude"),e.add("longitude"),e.add("phone"),e.add("province"),e.add("zip"),e.add("name"),e.add("countryCode"),e.add("provinceCode")}),n.CheckoutFragment=t.defineFragment("CheckoutFragment","Checkout",function(e){e.add("id"),e.add("ready"),e.add("requiresShipping"),e.add("note"),e.add("paymentDue"),e.add("webUrl"),e.add("orderStatusUrl"),e.add("taxExempt"),e.add("taxesIncluded"),e.add("currencyCode"),e.add("totalTax"),e.add("subtotalPrice"),e.add("totalPrice"),e.add("completedAt"),e.add("createdAt"),e.add("updatedAt"),e.add("shippingAddress",function(e){e.addFragment(n.MailingAddressFragment)}),e.add("shippingLine",function(e){e.add("handle"),e.add("price"),e.add("title")}),e.add("customAttributes",function(e){e.add("key"),e.add("value")}),e.add("order",function(e){e.add("id"),e.add("processedAt"),e.add("orderNumber"),e.add("subtotalPrice"),e.add("totalShippingPrice"),e.add("totalTax"),e.add("totalPrice"),e.add("currencyCode"),e.add("totalRefunded"),e.add("customerUrl"),e.add("shippingAddress",function(e){e.addFragment(n.MailingAddressFragment)}),e.add("lineItems",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("title"),e.add("variant",function(e){e.addFragment(n.VariantWithProductFragment)}),e.add("quantity"),e.add("customAttributes",function(e){e.add("key"),e.add("value")})})})})}),e.add("lineItems",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("id"),e.add("title"),e.add("variant",function(e){e.addFragment(n.VariantWithProductFragment)}),e.add("quantity"),e.add("customAttributes",function(e){e.add("key"),e.add("value")})})})})}),t.addMutation([r.__defaultOperation__.checkoutId,r.__defaultOperation__.lineItems],function(e){e.add("checkoutLineItemsAdd",{args:{checkoutId:r.__defaultOperation__.checkoutId,lineItems:r.__defaultOperation__.lineItems}},function(e){e.add("userErrors",function(e){e.addFragment(n.UserErrorFragment)}),e.add("checkout",function(e){e.addFragment(n.CheckoutFragment)})})}),t}function Ee(e){var t=e.document(),n={},r={__defaultOperation__:{}};return r.__defaultOperation__.checkoutId=e.variable("checkoutId","ID!"),r.__defaultOperation__.lineItemIds=e.variable("lineItemIds","[ID!]!"),n.VariantFragment=t.defineFragment("VariantFragment","ProductVariant",function(e){e.add("id"),e.add("title"),e.add("price"),e.add("weight"),e.add("available"),e.add("sku"),e.add("compareAtPrice"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")}),e.add("selectedOptions",function(e){e.add("name"),e.add("value")})}),n.VariantWithProductFragment=t.defineFragment("VariantWithProductFragment","ProductVariant",function(e){e.addFragment(n.VariantFragment),e.add("product",function(e){e.add("id")})}),n.UserErrorFragment=t.defineFragment("UserErrorFragment","UserError",function(e){e.add("field"),e.add("message")}),n.MailingAddressFragment=t.defineFragment("MailingAddressFragment","MailingAddress",function(e){e.add("id"),e.add("address1"),e.add("address2"),e.add("city"),e.add("company"),e.add("country"),e.add("firstName"),e.add("formatted"),e.add("lastName"),e.add("latitude"),e.add("longitude"),e.add("phone"),e.add("province"),e.add("zip"),e.add("name"),e.add("countryCode"),e.add("provinceCode")}),n.CheckoutFragment=t.defineFragment("CheckoutFragment","Checkout",function(e){e.add("id"),e.add("ready"),e.add("requiresShipping"),e.add("note"),e.add("paymentDue"),e.add("webUrl"),e.add("orderStatusUrl"),e.add("taxExempt"),e.add("taxesIncluded"),e.add("currencyCode"),e.add("totalTax"),e.add("subtotalPrice"),e.add("totalPrice"),e.add("completedAt"),e.add("createdAt"),e.add("updatedAt"),e.add("shippingAddress",function(e){e.addFragment(n.MailingAddressFragment)}),e.add("shippingLine",function(e){e.add("handle"),e.add("price"),e.add("title")}),e.add("customAttributes",function(e){e.add("key"),e.add("value")}),e.add("order",function(e){e.add("id"),e.add("processedAt"),e.add("orderNumber"),e.add("subtotalPrice"),e.add("totalShippingPrice"),e.add("totalTax"),e.add("totalPrice"),e.add("currencyCode"),e.add("totalRefunded"),e.add("customerUrl"),e.add("shippingAddress",function(e){e.addFragment(n.MailingAddressFragment)}),e.add("lineItems",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("title"),e.add("variant",function(e){e.addFragment(n.VariantWithProductFragment)}),e.add("quantity"),e.add("customAttributes",function(e){e.add("key"),e.add("value")})})})})}),e.add("lineItems",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("id"),e.add("title"),e.add("variant",function(e){e.addFragment(n.VariantWithProductFragment)}),e.add("quantity"),e.add("customAttributes",function(e){e.add("key"),e.add("value")})})})})}),t.addMutation([r.__defaultOperation__.checkoutId,r.__defaultOperation__.lineItemIds],function(e){e.add("checkoutLineItemsRemove",{args:{checkoutId:r.__defaultOperation__.checkoutId,lineItemIds:r.__defaultOperation__.lineItemIds}},function(e){e.add("userErrors",function(e){e.addFragment(n.UserErrorFragment)}),e.add("checkout",function(e){e.addFragment(n.CheckoutFragment)})})}),t}function Fe(e){var t=e.document(),n={},r={__defaultOperation__:{}};return r.__defaultOperation__.checkoutId=e.variable("checkoutId","ID!"),r.__defaultOperation__.lineItems=e.variable("lineItems","[CheckoutLineItemUpdateInput!]!"),n.VariantFragment=t.defineFragment("VariantFragment","ProductVariant",function(e){e.add("id"),e.add("title"),e.add("price"),e.add("weight"),e.add("available"),e.add("sku"),e.add("compareAtPrice"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")}),e.add("selectedOptions",function(e){e.add("name"),e.add("value")})}),n.VariantWithProductFragment=t.defineFragment("VariantWithProductFragment","ProductVariant",function(e){e.addFragment(n.VariantFragment),e.add("product",function(e){e.add("id")})}),n.UserErrorFragment=t.defineFragment("UserErrorFragment","UserError",function(e){e.add("field"),e.add("message")}),n.MailingAddressFragment=t.defineFragment("MailingAddressFragment","MailingAddress",function(e){e.add("id"),e.add("address1"),e.add("address2"),e.add("city"),e.add("company"),e.add("country"),e.add("firstName"),e.add("formatted"),e.add("lastName"),e.add("latitude"),e.add("longitude"),e.add("phone"),e.add("province"),e.add("zip"),e.add("name"),e.add("countryCode"),e.add("provinceCode")}),n.CheckoutFragment=t.defineFragment("CheckoutFragment","Checkout",function(e){e.add("id"),e.add("ready"),e.add("requiresShipping"),e.add("note"),e.add("paymentDue"),e.add("webUrl"),e.add("orderStatusUrl"),e.add("taxExempt"),e.add("taxesIncluded"),e.add("currencyCode"),e.add("totalTax"),e.add("subtotalPrice"),e.add("totalPrice"),e.add("completedAt"),e.add("createdAt"),e.add("updatedAt"),e.add("shippingAddress",function(e){e.addFragment(n.MailingAddressFragment)}),e.add("shippingLine",function(e){e.add("handle"),e.add("price"),e.add("title")}),e.add("customAttributes",function(e){e.add("key"),e.add("value")}),e.add("order",function(e){e.add("id"),e.add("processedAt"),e.add("orderNumber"),e.add("subtotalPrice"),e.add("totalShippingPrice"),e.add("totalTax"),e.add("totalPrice"),e.add("currencyCode"),e.add("totalRefunded"),e.add("customerUrl"),e.add("shippingAddress",function(e){e.addFragment(n.MailingAddressFragment)}),e.add("lineItems",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("title"),e.add("variant",function(e){e.addFragment(n.VariantWithProductFragment)}),e.add("quantity"),e.add("customAttributes",function(e){e.add("key"),e.add("value")})})})})}),e.add("lineItems",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("id"),e.add("title"),e.add("variant",function(e){e.addFragment(n.VariantWithProductFragment)}),e.add("quantity"),e.add("customAttributes",function(e){e.add("key"),e.add("value")})})})})}),t.addMutation([r.__defaultOperation__.checkoutId,r.__defaultOperation__.lineItems],function(e){e.add("checkoutLineItemsUpdate",{args:{checkoutId:r.__defaultOperation__.checkoutId,lineItems:r.__defaultOperation__.lineItems}},function(e){e.add("userErrors",function(e){e.addFragment(n.UserErrorFragment)}),e.add("checkout",function(e){e.addFragment(n.CheckoutFragment)})})}),t}function Ne(e){var t=e.document(),n={},r={checkoutAttributesUpdate:{}};return r.checkoutAttributesUpdate.checkoutId=e.variable("checkoutId","ID!"),r.checkoutAttributesUpdate.input=e.variable("input","CheckoutAttributesUpdateInput!"),n.VariantFragment=t.defineFragment("VariantFragment","ProductVariant",function(e){e.add("id"),e.add("title"),e.add("price"),e.add("weight"),e.add("available"),e.add("sku"),e.add("compareAtPrice"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")}),e.add("selectedOptions",function(e){e.add("name"),e.add("value")})}),n.VariantWithProductFragment=t.defineFragment("VariantWithProductFragment","ProductVariant",function(e){e.addFragment(n.VariantFragment),e.add("product",function(e){e.add("id")})}),n.UserErrorFragment=t.defineFragment("UserErrorFragment","UserError",function(e){e.add("field"),e.add("message")}),n.MailingAddressFragment=t.defineFragment("MailingAddressFragment","MailingAddress",function(e){e.add("id"),e.add("address1"),e.add("address2"),e.add("city"),e.add("company"),e.add("country"),e.add("firstName"),e.add("formatted"),e.add("lastName"),e.add("latitude"),e.add("longitude"),e.add("phone"),e.add("province"),e.add("zip"),e.add("name"),e.add("countryCode"),e.add("provinceCode")}),n.CheckoutFragment=t.defineFragment("CheckoutFragment","Checkout",function(e){e.add("id"),e.add("ready"),e.add("requiresShipping"),e.add("note"),e.add("paymentDue"),e.add("webUrl"),e.add("orderStatusUrl"),e.add("taxExempt"),e.add("taxesIncluded"),e.add("currencyCode"),e.add("totalTax"),e.add("subtotalPrice"),e.add("totalPrice"),e.add("completedAt"),e.add("createdAt"),e.add("updatedAt"),e.add("shippingAddress",function(e){e.addFragment(n.MailingAddressFragment)}),e.add("shippingLine",function(e){e.add("handle"),e.add("price"),e.add("title")}),e.add("customAttributes",function(e){e.add("key"),e.add("value")}),e.add("order",function(e){e.add("id"),e.add("processedAt"),e.add("orderNumber"),e.add("subtotalPrice"),e.add("totalShippingPrice"),e.add("totalTax"),e.add("totalPrice"),e.add("currencyCode"),e.add("totalRefunded"),e.add("customerUrl"),e.add("shippingAddress",function(e){e.addFragment(n.MailingAddressFragment)}),e.add("lineItems",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("title"),e.add("variant",function(e){e.addFragment(n.VariantWithProductFragment)}),e.add("quantity"),e.add("customAttributes",function(e){e.add("key"),e.add("value")})})})})}),e.add("lineItems",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("id"),e.add("title"),e.add("variant",function(e){e.addFragment(n.VariantWithProductFragment)}),e.add("quantity"),e.add("customAttributes",function(e){e.add("key"),e.add("value")})})})})}),t.addMutation("checkoutAttributesUpdate",[r.checkoutAttributesUpdate.checkoutId,r.checkoutAttributesUpdate.input],function(e){e.add("checkoutAttributesUpdate",{args:{checkoutId:r.checkoutAttributesUpdate.checkoutId,input:r.checkoutAttributesUpdate.input}},function(e){e.add("userErrors",function(e){e.addFragment(n.UserErrorFragment)}),e.add("checkout",function(e){e.addFragment(n.CheckoutFragment)})})}),t}function Me(e){var t=e.document(),n={},r={checkoutDiscountCodeApply:{}};return r.checkoutDiscountCodeApply.discountCode=e.variable("discountCode","String!"),r.checkoutDiscountCodeApply.checkoutId=e.variable("checkoutId","ID!"),n.VariantFragment=t.defineFragment("VariantFragment","ProductVariant",function(e){e.add("id"),e.add("title"),e.add("price"),e.add("weight"),e.add("available"),e.add("sku"),e.add("compareAtPrice"),e.add("image",function(e){e.add("id"),e.add("src"),e.add("altText")}),e.add("selectedOptions",function(e){e.add("name"),e.add("value")})}),n.VariantWithProductFragment=t.defineFragment("VariantWithProductFragment","ProductVariant",function(e){e.addFragment(n.VariantFragment),e.add("product",function(e){e.add("id")})}),n.UserErrorFragment=t.defineFragment("UserErrorFragment","UserError",function(e){e.add("field"),e.add("message")}),n.MailingAddressFragment=t.defineFragment("MailingAddressFragment","MailingAddress",function(e){e.add("id"),e.add("address1"),e.add("address2"),e.add("city"),e.add("company"),e.add("country"),e.add("firstName"),e.add("formatted"),e.add("lastName"),e.add("latitude"),e.add("longitude"),e.add("phone"),e.add("province"),e.add("zip"),e.add("name"),e.add("countryCode"),e.add("provinceCode")}),n.CheckoutFragment=t.defineFragment("CheckoutFragment","Checkout",function(e){e.add("id"),e.add("ready"),e.add("requiresShipping"),e.add("note"),e.add("paymentDue"),e.add("webUrl"),e.add("orderStatusUrl"),e.add("taxExempt"),e.add("taxesIncluded"),e.add("currencyCode"),e.add("totalTax"),e.add("subtotalPrice"),e.add("totalPrice"),e.add("completedAt"),e.add("createdAt"),e.add("updatedAt"),e.add("shippingAddress",function(e){e.addFragment(n.MailingAddressFragment)}),e.add("shippingLine",function(e){e.add("handle"),e.add("price"),e.add("title")}),e.add("customAttributes",function(e){e.add("key"),e.add("value")}),e.add("order",function(e){e.add("id"),e.add("processedAt"),e.add("orderNumber"),e.add("subtotalPrice"),e.add("totalShippingPrice"),e.add("totalTax"),e.add("totalPrice"),e.add("currencyCode"),e.add("totalRefunded"),e.add("customerUrl"),e.add("shippingAddress",function(e){e.addFragment(n.MailingAddressFragment)}),e.add("lineItems",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("title"),e.add("variant",function(e){e.addFragment(n.VariantWithProductFragment)}),e.add("quantity"),e.add("customAttributes",function(e){e.add("key"),e.add("value")})})})})}),e.add("lineItems",{args:{first:250}},function(e){e.add("pageInfo",function(e){e.add("hasNextPage"),e.add("hasPreviousPage")}),e.add("edges",function(e){e.add("cursor"),e.add("node",function(e){e.add("id"),e.add("title"),e.add("variant",function(e){e.addFragment(n.VariantWithProductFragment)}),e.add("quantity"),e.add("customAttributes",function(e){e.add("key"),e.add("value")})})})})}),t.addMutation("checkoutDiscountCodeApply",[r.checkoutDiscountCodeApply.discountCode,r.checkoutDiscountCodeApply.checkoutId],function(e){e.add("checkoutDiscountCodeApply",{args:{discountCode:r.checkoutDiscountCodeApply.discountCode,checkoutId:r.checkoutDiscountCodeApply.checkoutId}},function(e){e.add("userErrors",function(e){e.addFragment(n.UserErrorFragment)}),e.add("checkout",function(e){e.addFragment(n.CheckoutFragment)})})}),t}var De=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,se),i(t,[{key:"fetch",value:function(e){var t=this;return this.graphQLClient.send(Ie,{id:e}).then(ce("node")).then(function(e){return t.graphQLClient.fetchAllPages(e.lineItems,{pageSize:250}).then(function(t){return e.attrs.lineItems=t,e})})}},{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.graphQLClient.send(Te,{input:e}).then(xe("checkoutCreate",this.graphQLClient))}},{key:"updateAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.graphQLClient.send(Ne,{checkoutId:e,input:t}).then(xe("checkoutAttributesUpdate",this.graphQLClient))}},{key:"addLineItems",value:function(e,t){return this.graphQLClient.send(je,{checkoutId:e,lineItems:t}).then(xe("checkoutLineItemsAdd",this.graphQLClient))}},{key:"addDiscount",value:function(e,t){return this.graphQLClient.send(Me,{checkoutId:e,discountCode:t}).then(xe("checkoutDiscountCodeApply",this.graphQLClient))}},{key:"removeLineItems",value:function(e,t){return this.graphQLClient.send(Ee,{checkoutId:e,lineItemIds:t}).then(xe("checkoutLineItemsRemove",this.graphQLClient))}},{key:"updateLineItems",value:function(e,t){return this.graphQLClient.send(Fe,{checkoutId:e,lineItems:t}).then(xe("checkoutLineItemsUpdate",this.graphQLClient))}}]),t}(),Be={imageForSize:function(e,t){var n=t.maxWidth,r=t.maxHeight,o=e.src.split("?"),i=o[0],a=o[1]?"?"+o[1]:"",s=i.split("."),u=s.length-2;return s[u]=s[u]+"_"+n+"x"+r,""+s.join(".")+a}},Le=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,se),i(t,[{key:"helpers",get:function(){return Be}}]),t}(),Re="1.7.0",Ue={types:{}};Ue.types.QueryRoot={name:"QueryRoot",kind:"OBJECT",fieldBaseTypes:{node:"Node",nodes:"Node",shop:"Shop"},implementsNode:!1},Ue.types.Node={name:"Node",kind:"INTERFACE",fieldBaseTypes:{},possibleTypes:["AppliedGiftCard","Article","Blog","Checkout","CheckoutLineItem","Collection","Comment","MailingAddress","Order","Payment","Product","ProductOption","ProductVariant","ShopPolicy"]},Ue.types.ID={name:"ID",kind:"SCALAR"},Ue.types.String={name:"String",kind:"SCALAR"},Ue.types.Boolean={name:"Boolean",kind:"SCALAR"},Ue.types.DateTime={name:"DateTime",kind:"SCALAR"},Ue.types.MailingAddress={name:"MailingAddress",kind:"OBJECT",fieldBaseTypes:{address1:"String",address2:"String",city:"String",company:"String",country:"String",countryCode:"String",firstName:"String",formatted:"String",id:"ID",lastName:"String",latitude:"Float",longitude:"Float",name:"String",phone:"String",province:"String",provinceCode:"String",zip:"String"},implementsNode:!0},Ue.types.Float={name:"Float",kind:"SCALAR"},Ue.types.PageInfo={name:"PageInfo",kind:"OBJECT",fieldBaseTypes:{hasNextPage:"Boolean",hasPreviousPage:"Boolean"},implementsNode:!1},Ue.types.Int={name:"Int",kind:"SCALAR"},Ue.types.Order={name:"Order",kind:"OBJECT",fieldBaseTypes:{currencyCode:"CurrencyCode",customerUrl:"URL",id:"ID",lineItems:"OrderLineItemConnection",orderNumber:"Int",processedAt:"DateTime",shippingAddress:"MailingAddress",subtotalPrice:"Money",totalPrice:"Money",totalRefunded:"Money",totalShippingPrice:"Money",totalTax:"Money"},implementsNode:!0},Ue.types.Money={name:"Money",kind:"SCALAR"},Ue.types.CurrencyCode={name:"CurrencyCode",kind:"ENUM"},Ue.types.URL={name:"URL",kind:"SCALAR"},Ue.types.OrderLineItemConnection={name:"OrderLineItemConnection",kind:"OBJECT",fieldBaseTypes:{edges:"OrderLineItemEdge",pageInfo:"PageInfo"},implementsNode:!1},Ue.types.OrderLineItemEdge={name:"OrderLineItemEdge",kind:"OBJECT",fieldBaseTypes:{cursor:"String",node:"OrderLineItem"},implementsNode:!1},Ue.types.OrderLineItem={name:"OrderLineItem",kind:"OBJECT",fieldBaseTypes:{customAttributes:"Attribute",quantity:"Int",title:"String",variant:"ProductVariant"},implementsNode:!1},Ue.types.ProductVariant={name:"ProductVariant",kind:"OBJECT",fieldBaseTypes:{available:"Boolean",compareAtPrice:"Money",id:"ID",image:"Image",price:"Money",product:"Product",selectedOptions:"SelectedOption",sku:"String",title:"String",weight:"Float"},implementsNode:!0},Ue.types.Image={name:"Image",kind:"OBJECT",fieldBaseTypes:{altText:"String",id:"ID",src:"URL"},implementsNode:!1},Ue.types.SelectedOption={name:"SelectedOption",kind:"OBJECT",fieldBaseTypes:{name:"String",value:"String"},implementsNode:!1},Ue.types.Product={name:"Product",kind:"OBJECT",fieldBaseTypes:{createdAt:"DateTime",description:"String",descriptionHtml:"HTML",handle:"String",id:"ID",images:"ImageConnection",onlineStoreUrl:"URL",options:"ProductOption",productType:"String",publishedAt:"DateTime",tags:"String",title:"String",updatedAt:"DateTime",variants:"ProductVariantConnection",vendor:"String"},implementsNode:!0},Ue.types.CollectionConnection={name:"CollectionConnection",kind:"OBJECT",fieldBaseTypes:{edges:"CollectionEdge",pageInfo:"PageInfo"},implementsNode:!1},Ue.types.CollectionEdge={name:"CollectionEdge",kind:"OBJECT",fieldBaseTypes:{cursor:"String",node:"Collection"},implementsNode:!1},Ue.types.Collection={name:"Collection",kind:"OBJECT",fieldBaseTypes:{description:"String",descriptionHtml:"HTML",handle:"String",id:"ID",image:"Image",products:"ProductConnection",title:"String",updatedAt:"DateTime"},implementsNode:!0},Ue.types.HTML={name:"HTML",kind:"SCALAR"},Ue.types.ProductConnection={name:"ProductConnection",kind:"OBJECT",fieldBaseTypes:{edges:"ProductEdge",pageInfo:"PageInfo"},implementsNode:!1},Ue.types.ProductEdge={name:"ProductEdge",kind:"OBJECT",fieldBaseTypes:{cursor:"String",node:"Product"},implementsNode:!1},Ue.types.ImageConnection={name:"ImageConnection",kind:"OBJECT",fieldBaseTypes:{edges:"ImageEdge",pageInfo:"PageInfo"},implementsNode:!1},Ue.types.ImageEdge={name:"ImageEdge",kind:"OBJECT",fieldBaseTypes:{cursor:"String",node:"Image"},implementsNode:!1},Ue.types.ProductOption={name:"ProductOption",kind:"OBJECT",fieldBaseTypes:{name:"String",values:"String"},implementsNode:!0},Ue.types.ProductVariantConnection={name:"ProductVariantConnection",kind:"OBJECT",fieldBaseTypes:{edges:"ProductVariantEdge",pageInfo:"PageInfo"},implementsNode:!1},Ue.types.ProductVariantEdge={name:"ProductVariantEdge",kind:"OBJECT",fieldBaseTypes:{cursor:"String",node:"ProductVariant"},implementsNode:!1},Ue.types.Attribute={name:"Attribute",kind:"OBJECT",fieldBaseTypes:{key:"String",value:"String"},implementsNode:!1},Ue.types.Shop={name:"Shop",kind:"OBJECT",fieldBaseTypes:{collectionByHandle:"Collection",collections:"CollectionConnection",currencyCode:"CurrencyCode",description:"String",moneyFormat:"String",name:"String",primaryDomain:"Domain",privacyPolicy:"ShopPolicy",productByHandle:"Product",products:"ProductConnection",refundPolicy:"ShopPolicy",termsOfService:"ShopPolicy"},implementsNode:!1},Ue.types.Domain={name:"Domain",kind:"OBJECT",fieldBaseTypes:{host:"String",sslEnabled:"Boolean",url:"URL"},implementsNode:!1},Ue.types.ShopPolicy={name:"ShopPolicy",kind:"OBJECT",fieldBaseTypes:{body:"String",id:"ID",title:"String",url:"URL"},implementsNode:!0},Ue.types.Mutation={name:"Mutation",kind:"OBJECT",fieldBaseTypes:{checkoutAttributesUpdate:"CheckoutAttributesUpdatePayload",checkoutCreate:"CheckoutCreatePayload",checkoutLineItemsAdd:"CheckoutLineItemsAddPayload",checkoutDiscountCodeApply:"CheckoutLineItemsAddPayload",checkoutLineItemsRemove:"CheckoutLineItemsRemovePayload",checkoutLineItemsUpdate:"CheckoutLineItemsUpdatePayload"},implementsNode:!1,relayInputObjectBaseTypes:{checkoutAttributesUpdate:"CheckoutAttributesUpdateInput",checkoutCreate:"CheckoutCreateInput",customerAccessTokenCreate:"CustomerAccessTokenCreateInput",customerActivate:"CustomerActivateInput",customerCreate:"CustomerCreateInput",customerReset:"CustomerResetInput"}},Ue.types.CheckoutAttributesUpdatePayload={name:"CheckoutAttributesUpdatePayload",kind:"OBJECT",fieldBaseTypes:{checkout:"Checkout",userErrors:"UserError"},implementsNode:!1},Ue.types.UserError={name:"UserError",kind:"OBJECT",fieldBaseTypes:{field:"String",message:"String"},implementsNode:!1},Ue.types.Checkout={name:"Checkout",kind:"OBJECT",fieldBaseTypes:{completedAt:"DateTime",createdAt:"DateTime",currencyCode:"CurrencyCode",customAttributes:"Attribute",id:"ID",lineItems:"CheckoutLineItemConnection",note:"String",order:"Order",orderStatusUrl:"URL",paymentDue:"Money",ready:"Boolean",requiresShipping:"Boolean",shippingAddress:"MailingAddress",shippingLine:"ShippingRate",subtotalPrice:"Money",taxExempt:"Boolean",taxesIncluded:"Boolean",totalPrice:"Money",totalTax:"Money",updatedAt:"DateTime",webUrl:"URL"},implementsNode:!0},Ue.types.CheckoutLineItemConnection={name:"CheckoutLineItemConnection",kind:"OBJECT",fieldBaseTypes:{edges:"CheckoutLineItemEdge",pageInfo:"PageInfo"},implementsNode:!1},Ue.types.CheckoutLineItemEdge={name:"CheckoutLineItemEdge",kind:"OBJECT",fieldBaseTypes:{cursor:"String",node:"CheckoutLineItem"},implementsNode:!1},Ue.types.CheckoutLineItem={name:"CheckoutLineItem",kind:"OBJECT",fieldBaseTypes:{customAttributes:"Attribute",id:"ID",quantity:"Int",title:"String",variant:"ProductVariant"},implementsNode:!0},Ue.types.ShippingRate={name:"ShippingRate",kind:"OBJECT",fieldBaseTypes:{handle:"String",price:"Money",title:"String"},implementsNode:!1},Ue.types.CheckoutCreatePayload={name:"CheckoutCreatePayload",kind:"OBJECT",fieldBaseTypes:{checkout:"Checkout",userErrors:"UserError"},implementsNode:!1},Ue.types.CheckoutLineItemsAddPayload={name:"CheckoutLineItemsAddPayload",kind:"OBJECT",fieldBaseTypes:{checkout:"Checkout",userErrors:"UserError"},implementsNode:!1},Ue.types.CheckoutLineItemsRemovePayload={name:"CheckoutLineItemsRemovePayload",kind:"OBJECT",fieldBaseTypes:{checkout:"Checkout",userErrors:"UserError"},implementsNode:!1},Ue.types.CheckoutLineItemsUpdatePayload={name:"CheckoutLineItemsUpdatePayload",kind:"OBJECT",fieldBaseTypes:{checkout:"Checkout",userErrors:"UserError"},implementsNode:!1},Ue.queryType="QueryRoot",Ue.mutationType="Mutation",Ue.subscriptionType=null;var Ve=function e(t){return Object.getOwnPropertyNames(t).forEach(function(n){var o=t[n];o&&"object"===(void 0===o?"undefined":r(o))&&e(o)}),Object.freeze(t),t}(Ue),qe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie,r=arguments[2];o(this,e);var i="https://"+t.domain+"/api/graphql",a={"X-SDK-Variant":"javascript","X-SDK-Version":Re,"X-Shopify-Storefront-Access-Token":t.storefrontAccessToken};r?(a["Content-Type"]="application/json",a.Accept="application/json",this.graphQLClient=new n(Ve,{fetcher:function(e){return r(i,{body:JSON.stringify(e),method:"POST",mode:"cors",headers:a}).then(function(e){return e.json()})}})):this.graphQLClient=new n(Ve,{url:i,fetcherOptions:{headers:a}}),this.product=new ge(this.graphQLClient),this.collection=new Ce(this.graphQLClient),this.shop=new Ae(this.graphQLClient),this.checkout=new De(this.graphQLClient),this.image=new Le(this.graphQLClient)}return i(e,null,[{key:"buildClient",value:function(t,n){var r=new ae(t),o=new e(r,ie,n);return o.config=r,o}}]),i(e,[{key:"fetchNextPage",value:function(e){return this.graphQLClient.fetchNextPage(e)}}]),e}();t.exports=qe},{}],31:[function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var s=e("preact"),u=e("mobx-preact"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cart,n=e.onClick,r=e.cartButtonText,o=t.panelOpen?r.open.title:r.closed.title;return s.h("button",i({className:"cart-button",tabIndex:0},{onClick:n,title:o}),t.panelOpen?s.h("span",{className:"cart-close"}):s.h("span",{className:"cart-numeral"},t.activeItems.length))},a([u.observer],t)}(s.Component);n.CartButton=c},{"mobx-preact":21,preact:28}],32:[function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("preact"),d=e("mobx-preact"),l=e("mobx"),f=e("./cart-button"),p=e("./panel/cart-panel"),h=e("./make-default-cart-text"),y=e("./make-default-scroll-tracker"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disposers=[],t.scrollTracker=t.props.scrollTracker||y.makeDefaultScrollTracker(),t.cartText=t.props.cartText||h.makeDefaultCartText(),t.performCheckout=function(){return s(t,void 0,void 0,function(){var e,t,n,r,o,i;return u(this,function(a){switch(a.label){case 0:return e=this.props,t=e.cart,n=e.checkoutMachine,r=e.checkoutInNewWindow,o=r?window.open("","_blank").location:window.location,[4,n.checkout(t.activeItems)];case 1:return i=a.sent(),t.clear(),t.togglePanelOpen(!1),o.href=i,[2,i]}})})},t.handleCartButtonClick=function(){return t.props.cart.togglePanelOpen()},t}return o(t,e),t.prototype.componentWillMount=function(){var e=this.props.cart,t=this.scrollTracker;this.disposers.push(l.reaction(function(){return e.panelOpen},function(e){t.setTracking(!e)})),t.setTracking(!e.panelOpen),t.mount()},t.prototype.componentWillUnmount=function(){var e=this.scrollTracker,t=this.disposers;e.unmount();for(var n=0,r=t;n<r.length;n++)(0,r[n])();this.disposers=[]},t.prototype.render=function(){var e=this.performCheckout,t=this.handleCartButtonClick,n=this.cartText,r=this.scrollTracker,o=this.props.cart,a=n.cartButtonText,s=n.cartPanelText;return c.h("section",{className:"cart-system","data-panel-open":o.panelOpen?"true":"false","data-items-in-cart":o.activeItems.length,style:{top:r.scroll}},c.h(f.CartButton,i({},{cart:o,onClick:t,cartButtonText:a})),c.h(p.CartPanel,i({},{cart:o,performCheckout:e,cartPanelText:s})))},a([d.observer],t)}(c.Component);n.CartSystem=v},{"./cart-button":31,"./make-default-cart-text":34,"./make-default-scroll-tracker":35,"./panel/cart-panel":40,mobx:22,"mobx-preact":21,preact:28}],33:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./panel")),r(e("./cart-button")),r(e("./cart-system"))},{"./cart-button":31,"./cart-system":32,"./panel":41}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.makeDefaultCartText=function(){return{cartButtonText:{open:{title:"Close the cart"},closed:{title:"Open the cart"}},cartPanelText:{heading:"Shopping cart",cartItemText:{remove:{title:"Remove cart item"}},cartCalculatedText:{subtotal:{content:"Subtotal (approximate)"}},cartCheckoutText:{title:"Buy cart items",content:"Checkout"}}}}},{}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../stores/scroll-tracker");n.makeDefaultScrollTracker=function(){return new r.ScrollTracker}},{"../../stores/scroll-tracker":57}],36:[function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("preact"),s=e("mobx-preact"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cart,n=e.cartCalculatedText;return a.h("ol",{className:"cart-calculated-results cart-grid"},t.activeItems.length?a.h("li",{className:"cart-subtotal"},a.h("span",null,n.subtotal.content),a.h("strong",{className:"pricevalue"},t.price)):null)},i([s.observer],t)}(a.Component);n.CartCalculatedResults=u},{"mobx-preact":21,preact:28}],37:[function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("mobx"),s=e("preact"),u=e("mobx-preact"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.reactions=[],t.lastItemsInCart=0,t.lastActiveItemsLength=0,t.handleCheckout=function(e){return t.props.performCheckout(),e.preventDefault(),!1},t}return o(t,e),t.prototype.componentWillMount=function(){var e=this;this.reactions.push(a.reaction(function(){return e.props.cart.activeItems.length},function(t){t!==e.lastActiveItemsLength&&t>e.lastActiveItemsLength&&setTimeout(function(){var t=e.base.querySelector(".checkout-button");t&&t.focus()},0),e.lastActiveItemsLength=t}))},t.prototype.componentWillUnmount=function(){for(var e=0,t=this.reactions;e<t.length;e++)t[e].dispose();this.reactions=[]},t.prototype.render=function(){var e=this.handleCheckout,t=this.props,n=t.cart,r=t.cartCheckoutText,o=!n.activeItems.length;return s.h("div",{className:"cart-checkout"},s.h("button",{className:"checkout-button",title:r.title,onClick:e,disabled:o},r.content))},i([u.observer],t)}(s.Component);n.CartCheckout=c},{mobx:22,"mobx-preact":21,preact:28}],38:[function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("preact"),s=e("mobx-preact"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleQuantityInputChange=function(e){var n=e.target,r=t.props.item,o=parseInt(n.value);r.setQuantity(o||0)},t.handleRemoval=function(e){t.props.item.setQuantity(0)},t}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.cartItemText,r=t.product;return a.h("li",{className:"cart-item-display"},a.h("button",{className:"item-remove-button",onClick:this.handleRemoval,title:n.remove.title}),a.h("input",{className:"item-quantity",type:"number",value:t.quantity.toString(),min:t.quantityMin,max:t.quantityMax,onChange:this.handleQuantityInputChange,onKeyUp:this.handleQuantityInputChange,onMouseUp:this.handleQuantityInputChange,onClick:this.handleQuantityInputChange,onBlur:this.handleQuantityInputChange}),a.h("div",{className:"item-title"},r.title),a.h("div",{className:"item-price pricevalue"},t.price))},i([s.observer],t)}(a.Component);n.CartItemDisplay=u},{"mobx-preact":21,preact:28}],39:[function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var s=e("preact"),u=e("mobx-preact"),c=e("./cart-item-display"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.cart,n=e.cartItemText;return s.h("div",{className:"cart-manipulator"},s.h("ol",{className:"cart-item-list cart-grid"},t.activeItems.map(function(e){return s.h(c.CartItemDisplay,i({},{item:e,cartItemText:n}))})))},a([u.observer],t)}(s.Component);n.CartManipulator=d},{"./cart-item-display":38,"mobx-preact":21,preact:28}],40:[function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var s=e("preact"),u=e("mobx-preact"),c=e("./cart-checkout"),d=e("./cart-manipulator"),l=e("./cart-calculated-results"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.renderCartTitle=function(){var e=this.props,t=e.cart,n=e.cartPanelText;return s.h("h1",{className:"cart-panel-title"},s.h("span",null,n.heading)," ",s.h("span",null,"– ",0===t.activeItems.length?"empty":t.activeItems.length+" item"+(1===t.activeItems.length?"":"s")))},t.prototype.render=function(){var e=this.props,t=e.cart,n=e.performCheckout,r=e.cartPanelText,o=r.cartItemText,a=r.cartCalculatedText,u=r.cartCheckoutText;return s.h("div",{className:"cart-panel"},this.renderCartTitle(),s.h("div",{className:"cart-panel-content"},s.h(d.CartManipulator,i({},{cart:t,cartItemText:o})),s.h(l.CartCalculatedResults,i({},{cart:t,cartCalculatedText:a})),s.h(c.CartCheckout,i({},{cart:t,performCheckout:n,cartCheckoutText:u}))))},a([u.observer],t)}(s.Component);n.CartPanel=f},{"./cart-calculated-results":36,"./cart-checkout":37,"./cart-manipulator":39,"mobx-preact":21,preact:28}],41:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./cart-calculated-results")),r(e("./cart-checkout")),r(e("./cart-item-display")),r(e("./cart-manipulator")),r(e("./cart-panel"))},{"./cart-calculated-results":36,"./cart-checkout":37,"./cart-item-display":38,"./cart-manipulator":39,"./cart-panel":40}],42:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./cart")),r(e("./product-display"))},{"./cart":33,"./product-display":43}],43:[function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var s=e("mobx"),u=e("preact"),c=e("mobx-preact"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleButtonClick=function(e){t.inCart||t.addToCart()},t}return o(t,e),Object.defineProperty(t.prototype,"cartItem",{get:function(){var e=this.props,t=e.cart,n=e.product;return t.getProductItem(n)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inCart",{get:function(){return this.cartItem.quantity>0},enumerable:!0,configurable:!0}),t.prototype.addToCart=function(){var e=this.cartItem,t=this.props.cart,n=e.quantity;this.cartItem.setQuantity(n+1),t.togglePanelOpen(!0)},t.prototype.render=function(){var e=this.inCart,t=this.props,n=t.product,r=t.buttonText1,o=void 0===r?"Add to Cart":r,a=t.buttonText2,s=void 0===a?"In Cart":a,c=t.buttonTitle,d=void 0===c?void 0:c;return u.h("div",i({className:"product-display","data-in-cart":e?"true":"false"},n.attributes),u.h("h3",{className:"title"},n.title),u.h("div",{className:"box"},u.h("p",{className:"price"},n.price),u.h("button",{className:"add-to-cart-button",title:e?void 0:d,onClick:this.handleButtonClick,disabled:e},e?s:o)),u.h("p",{className:"description",dangerouslySetInnerHTML:{__html:n.description}}))},a([s.computed],t.prototype,"cartItem",null),a([s.computed],t.prototype,"inCart",null),a([c.observer],t)}(u.Component);n.ProductDisplay=d},{mobx:22,"mobx-preact":21,preact:28}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){};n.CheckoutMachineBase=r},{}],45:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./checkout-machine-base")),r(e("./shopify-store"))},{"./checkout-machine-base":44,"./shopify-store":46}],46:[function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("preact"),s=e("preact"),u=e("../shopify"),c=e("../components"),d=e("../stores");n.ecommerceShopifyStore=function(e){return o(this,void 0,void 0,function(){var t,n,o,l,f,p,h,y,v,m,g,b;return i(this,function(i){switch(i.label){case 0:return t=new d.CurrencyControl(e.currency),n=new u.ShopifyAdapter({settings:e.shopify,currencyControl:t}),o=e.collections.map(function(e){return r({},e,{products:n.getProductsInCollection(e.collectionId)})}),[4,Promise.all(o.map(function(e){return e.products.then(function(t){return r({},e,{products:t})})}))];case 1:for(l=i.sent(),f=[].concat.apply([],l.map(function(e){return e.products})),p=new d.Cart({omniStorage:e.omniStorage,currencyControl:t,itemCatalog:f.map(function(n){var r=e.evaluator(n),o=r.quantityMin,i=r.quantityMax,a=r.precision,s=r.attributes;return n.setPrecision(a),n.setAttributes(s),new d.CartItem({product:n,currencyControl:t,quantityMin:o,quantityMax:i})})}),h=0,y=l;h<y.length;h++)v=y[h],m=v.collectionId,g=v.productsArea,b=v.products,s.render(a.h("div",{className:"product-list","data-collection-id":m},b.map(function(e){return a.h(c.ProductDisplay,r({},{cart:p,product:e}))})),g);return s.render(a.h(c.CartSystem,r({},r({},e.cartSystem,{cart:p,checkoutMachine:n.checkoutMachine}))),e.cartArea),[2]}})})}},{"../components":42,"../shopify":49,"../stores":55,preact:28}],47:[function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("crnc"),s=e("mobx"),u=e("preact"),c=e("commotion"),d=e("mobx-preact"),l=e("omnistorage"),f=e("."),p=e("./ecommerce/shopify-store");window.crnc=a,window.mobx=s,window.preact=u,window.commotion=c,window.mobxPreact=d,window.shopper=f,window.shopperDemo=function(){return o(this,void 0,void 0,function(){var e,t,n;return i(this,function(o){switch(o.label){case 0:return s.configure({enforceActions:!0}),e=p.ecommerceShopifyStore,t={omniStorage:new l.LocalClient({storage:window.localStorage})},n=[{}],[4,a.ascertainEcommerceDetails({storeBaseCurrency:"CAD",userDisplayCurrency:a.assumeUserCurrency({fallback:"CAD"})})];case 1:return[4,e.apply(void 0,[(t.currency=r.apply(void 0,n.concat([o.sent(),{precision:2}])),t.shopify={domain:"dev-bakery.myshopify.com",storefrontAccessToken:"5f636be6b04aeb2a7b96fe9306386f25"},t.collections=[{collectionId:"Z2lkOi8vc2hvcGlmeS9Db2xsZWN0aW9uLzQyNDQ0MTQ3OQ==",productsArea:document.querySelector(".shopper .products-area")}],t.cartArea=document.querySelector(".shopper .cart-area"),t.cartSystem={checkoutInNewWindow:!1},t.evaluator=function(e){return{quantityMin:1,quantityMax:5,precision:2,attributes:/avocado/i.test(e.title)?{"data-avocado":"yeppers"}:{}}},t)])];case 2:return o.sent(),[2]}})})}},{".":48,"./ecommerce/shopify-store":46,commotion:1,crnc:11,mobx:22,"mobx-preact":21,omnistorage:24,preact:28}],48:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./components")),r(e("./ecommerce")),r(e("./shopify")),r(e("./stores")),r(e("./toolbox"))},{"./components":42,"./ecommerce":45,"./shopify":49,"./stores":55,"./toolbox":60}],49:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./shopify-adapter")),r(e("./shopify-checkout-machine"))},{"./shopify-adapter":50,"./shopify-checkout-machine":51}],50:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("shopify-buy"),a=e("../stores/product"),s=e("./shopify-checkout-machine"),u=function(){function e(e){Object.assign(this,e);var t=i.buildClient(this.settings);this.checkoutMachine=new s.ShopifyCheckoutMachine({shopifyClient:t}),this.shopifyClient=t}return e.prototype.getProductsInCollection=function(e){return r(this,void 0,void 0,function(){var t,n,r,i;return o(this,function(o){switch(o.label){case 0:n=(t=this).shopifyClient,r=t.currencyControl,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n.collection.fetchWithProducts(e)];case 2:return[2,o.sent().products.map(function(e){return new a.Product({id:e.variants[0].id,value:parseFloat(e.variants[0].price),title:e.title,description:e.descriptionHtml,currencyControl:r})})];case 3:throw(i=o.sent()).message="shopify error: "+i,i;case 4:return[2]}})})},e}();n.ShopifyAdapter=u},{"../stores/product":56,"./shopify-checkout-machine":51,"shopify-buy":30}],51:[function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var s=function(e){function t(t){var n=t.shopifyClient,r=e.call(this)||this;return r.shopifyClient=n,r}return o(t,e),t.prototype.checkout=function(e){return i(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this.shopifyClient.checkout.create({lineItems:e.map(function(e){return{variantId:e.product.id,quantity:e.quantity}})})];case 1:return[2,t.sent().webUrl]}})})},t}(e("../ecommerce/checkout-machine-base").CheckoutMachineBase);n.ShopifyCheckoutMachine=s},{"../ecommerce/checkout-machine-base":44}],52:[function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var o=e("mobx"),i=function(){function e(e){this.quantity=0,Object.assign(this,e)}return Object.defineProperty(e.prototype,"value",{get:function(){var e=this.quantity;return this.product.value*e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"price",{get:function(){var e=this.value,t=this.currencyControl,n=this.product;return t.convertAndFormat(e,n.precision)},enumerable:!0,configurable:!0}),e.prototype.setQuantity=function(e){this.quantity=e},r([o.observable],e.prototype,"quantity",void 0),r([o.computed],e.prototype,"value",null),r([o.computed],e.prototype,"price",null),r([o.action],e.prototype,"setQuantity",null),e}();n.CartItem=i},{mobx:22}],53:[function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("omnistorage"),u=e("mobx");n.defaultCartOptions={storageKey:"shopper",omniStorage:new s.LocalClient({storage:window.localStorage})};var c=function(){function e(e){this.itemCatalog=[],this.panelOpen=!1;var t=r({},n.defaultCartOptions,e);this.storageKey=t.storageKey,this.omniStorage=t.omniStorage,this.itemCatalog=t.itemCatalog,this.currencyControl=t.currencyControl}return e.prototype.loadFromStorage=function(){return i(this,void 0,void 0,function(){var e,t,n,r,o,i,s,u,c,d,l,f;return a(this,function(a){switch(a.label){case 0:t=(e=this).omniStorage,n=e.storageKey,a.label=1;case 1:return a.trys.push([1,3,,4]),i=(o=JSON).parse,[4,t.getItem(n)];case 2:for(r=i.apply(o,[a.sent()]),s=function(e){var t=r[e];u.itemCatalog.find(function(t){return t.product.id===e}).setQuantity(t.quantity)},u=this,c=0,d=Object.keys(r);c<d.length;c++)l=d[c],s(l);return[3,4];case 3:return f=a.sent(),console.error("shopper cart load from storage error: "+f.message),[3,4];case 4:return[2]}})})},e.prototype.saveToStorage=function(){for(var e=this.omniStorage,t=this.storageKey,n={},r=0,o=this.itemCatalog;r<o.length;r++){var i=o[r],a=i.product,s=i.quantity;n[a.id]={quantity:s}}e.setItem(t,JSON.stringify(n))},Object.defineProperty(e.prototype,"activeItems",{get:function(){return this.itemCatalog.filter(function(e){return e.quantity>0})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.activeItems.reduce(function(e,t){return e+t.value},0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"price",{get:function(){var e=this.value;return this.currencyControl.convertAndFormat(e)},enumerable:!0,configurable:!0}),e.prototype.togglePanelOpen=function(e){return void 0===e&&(e=null),this.panelOpen=null===e?!this.panelOpen:e,this.panelOpen},e.prototype.clear=function(){for(var e=0,t=this.itemCatalog;e<t.length;e++)t[e].setQuantity(0)},e.prototype.getProductItem=function(e){return this.itemCatalog.find(function(t){return t.product===e})},o([u.observable],e.prototype,"itemCatalog",void 0),o([u.observable],e.prototype,"panelOpen",void 0),o([u.computed],e.prototype,"activeItems",null),o([u.computed],e.prototype,"value",null),o([u.computed],e.prototype,"price",null),o([u.action],e.prototype,"togglePanelOpen",null),e}();n.Cart=c},{mobx:22,omnistorage:24}],54:[function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var o=e("mobx"),i=e("crnc"),a=function(){function e(e){Object.assign(this,e)}return e.prototype.setUserDisplayCurrency=function(e){this.userDisplayCurrency=e},e.prototype.convertAndFormat=function(e,t){var n=this,r=n.locale,o=n.precision,a=n.exchangeRates,s=n.storeBaseCurrency,u=n.userDisplayCurrency,c=null!=t?t:o;return i.convertAndFormatCurrency({value:e,locale:r,precision:c,inputCurrency:s,exchangeRates:a,outputCurrency:u})},r([o.observable],e.prototype,"userDisplayCurrency",void 0),r([o.action],e.prototype,"setUserDisplayCurrency",null),e}();n.CurrencyControl=a},{crnc:11,mobx:22}],55:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./cart-item")),r(e("./cart")),r(e("./currency-control")),r(e("./product")),r(e("./scroll-tracker"))},{"./cart":53,"./cart-item":52,"./currency-control":54,"./product":56,"./scroll-tracker":57}],56:[function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(n,"__esModule",{value:!0});var i=e("mobx"),a=function(){function e(e){var t=e.precision,n=e.attributes,r=o(e,["precision","attributes"]);this.precision=null,this.attributes={},Object.assign(this,r),this.setPrecision(t),this.setAttributes(n)}return Object.defineProperty(e.prototype,"price",{get:function(){var e=this.currencyControl,t=this.value,n=this.precision;return e.convertAndFormat(t,n)},enumerable:!0,configurable:!0}),e.prototype.setPrecision=function(e){this.precision=e},e.prototype.setAttributes=function(e){void 0===e&&(e={}),this.attributes=e},r([i.observable],e.prototype,"precision",void 0),r([i.observable],e.prototype,"attributes",void 0),r([i.computed],e.prototype,"price",null),r([i.action],e.prototype,"setPrecision",null),r([i.action],e.prototype,"setAttributes",null),e}();n.Product=a},{mobx:22}],57:[function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var o=e("mobx"),i=e("../toolbox"),a=["scroll","resize"],s=function(){function e(){var e=this;this.scroll=0,this.tracking=!1,this.handleScrollUpdate=function(){e.updateScroll()}}return e.prototype.updateScroll=function(){if(this.tracking){var e=i.getScrollTop();this.setScroll(e)}},e.prototype.setScroll=function(e){this.scroll=e},e.prototype.setTracking=function(e){this.tracking=e,this.updateScroll()},e.prototype.mount=function(){for(var e=0,t=a;e<t.length;e++){var n=t[e];window.addEventListener(n,this.handleScrollUpdate)}this.handleScrollUpdate()},e.prototype.unmount=function(){for(var e=0,t=a;e<t.length;e++){var n=t[e];window.removeEventListener(n,this.handleScrollUpdate)}},r([o.observable],e.prototype,"scroll",void 0),r([o.observable],e.prototype,"tracking",void 0),r([o.action],e.prototype,"setScroll",null),r([o.action],e.prototype,"setTracking",null),e}();n.ScrollTracker=s},{"../toolbox":60,mobx:22}],58:[function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var o=e("preact");n.convertNewlinesToReactBreaks=function(e){return e.split("\n").map(function(e,t){return o.h("span",r({},{key:t}),e,o.h("br",null))})}},{preact:28}],59:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getScrollTop=function(e){return void 0===e&&(e=window.document),e.documentElement.scrollTop||e.body.scrollTop}},{}],60:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./convert-newlines-to-react-breaks")),r(e("./get-scroll-top")),r(e("./is-descendant")),r(e("./set-scroll-top"))},{"./convert-newlines-to-react-breaks":58,"./get-scroll-top":59,"./is-descendant":61,"./set-scroll-top":62}],61:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isDescendant=function(e,t){if(e===t)return!0;for(var n=e.parentElement;n;){if(n===t)return!0;n=n.parentElement}return!1}},{}],62:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setScrollTop=function(e,t){void 0===t&&(t=window.document),t.documentElement.scrollTop=document.body.scrollTop=e}},{}]},{},[47]);
